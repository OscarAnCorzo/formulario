// Elise 2.3.0-beta.5 build 2016-07-20-1358

// libs
window.utf8_encode=function(t){if(null===t||"undefined"==typeof t)return"";var e,n,i=t+"",s="",r=0;e=n=0,r=i.length;for(var o=0;r>o;o++){var a=i.charCodeAt(o),c=null;if(128>a)n++;else if(a>127&&2048>a)c=String.fromCharCode(a>>6|192,63&a|128);else if(a&!0)c=String.fromCharCode(a>>12|224,a>>6&63|128,63&a|128);else{if(a&!0)throw new RangeError("Unmatched trail surrogate at "+o);var l=i.charCodeAt(++o);if(l&!0)throw new RangeError("Unmatched lead surrogate at "+(o-1));a=((1023&a)<<10)+(1023&l)+65536,c=String.fromCharCode(a>>18|240,a>>12&63|128,a>>6&63|128,63&a|128)}null!==c&&(n>e&&(s+=i.slice(e,n)),s+=c,e=n=o+1)}return n>e&&(s+=i.slice(e,r)),s},window.utf8_decode=function(t){var e=[],n=0,i=0,s=0,r=0,o=0,a=0;for(t+="";n<t.length;)s=t.charCodeAt(n),191>=s?(e[i++]=String.fromCharCode(s),n++):223>=s?(r=t.charCodeAt(n+1),e[i++]=String.fromCharCode((31&s)<<6|63&r),n+=2):239>=s?(r=t.charCodeAt(n+1),o=t.charCodeAt(n+2),e[i++]=String.fromCharCode((15&s)<<12|(63&r)<<6|63&o),n+=3):(r=t.charCodeAt(n+1),o=t.charCodeAt(n+2),a=t.charCodeAt(n+3),s=(7&s)<<18|(63&r)<<12|(63&o)<<6|63&a,s-=65536,e[i++]=String.fromCharCode(55296|s>>10&1023),e[i++]=String.fromCharCode(56320|1023&s),n+=4);return e.join("")},function(){function t(t){function e(e,n,i,s,r,o){for(;r>=0&&o>r;r+=t){var a=s?s[r]:r;i=n(i,e[a],a,e)}return i}return function(n,i,s,r){i=w(i,r,4);var o=!T(n)&&b.keys(n),a=(o||n).length,c=t>0?0:a-1;return arguments.length<3&&(s=n[o?o[c]:c],c+=t),e(n,i,s,o,c,a)}}function e(t){return function(e,n,i){n=y(n,i);for(var s=j(e),r=t>0?0:s-1;r>=0&&s>r;r+=t)if(n(e[r],r,e))return r;return-1}}function n(t,e,n){return function(i,s,r){var o=0,a=j(i);if("number"==typeof r)t>0?o=r>=0?r:Math.max(r+a,o):a=r>=0?Math.min(r+1,a):r+a+1;else if(n&&r&&a)return r=n(i,s),i[r]===s?r:-1;if(s!==s)return r=e(u.call(i,o,a),b.isNaN),r>=0?r+o:-1;for(r=t>0?o:a-1;r>=0&&a>r;r+=t)if(i[r]===s)return r;return-1}}function i(t,e){var n=N.length,i=t.constructor,s=b.isFunction(i)&&i.prototype||a,r="constructor";for(b.has(t,r)&&!b.contains(e,r)&&e.push(r);n--;)r=N[n],r in t&&t[r]!==s[r]&&!b.contains(e,r)&&e.push(r)}var s=this,r=s._,o=Array.prototype,a=Object.prototype,c=Function.prototype,l=o.push,u=o.slice,h=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,g=c.bind,m=Object.create,v=function(){},b=function(t){return t instanceof b?t:this instanceof b?void(this._wrapped=t):new b(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=b),exports._=b):s._=b,b.VERSION="1.8.3";var w=function(t,e,n){if(void 0===e)return t;switch(null==n?3:n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,s){return t.call(e,n,i,s)};case 4:return function(n,i,s,r){return t.call(e,n,i,s,r)}}return function(){return t.apply(e,arguments)}},y=function(t,e,n){return null==t?b.identity:b.isFunction(t)?w(t,e,n):b.isObject(t)?b.matcher(t):b.property(t)};b.iteratee=function(t,e){return y(t,e,1/0)};var C=function(t,e){return function(n){var i=arguments.length;if(2>i||null==n)return n;for(var s=1;i>s;s++)for(var r=arguments[s],o=t(r),a=o.length,c=0;a>c;c++){var l=o[c];e&&void 0!==n[l]||(n[l]=r[l])}return n}},x=function(t){if(!b.isObject(t))return{};if(m)return m(t);v.prototype=t;var e=new v;return v.prototype=null,e},S=function(t){return function(e){return null==e?void 0:e[t]}},k=Math.pow(2,53)-1,j=S("length"),T=function(t){var e=j(t);return"number"==typeof e&&e>=0&&k>=e};b.each=b.forEach=function(t,e,n){e=w(e,n);var i,s;if(T(t))for(i=0,s=t.length;s>i;i++)e(t[i],i,t);else{var r=b.keys(t);for(i=0,s=r.length;s>i;i++)e(t[r[i]],r[i],t)}return t},b.map=b.collect=function(t,e,n){e=y(e,n);for(var i=!T(t)&&b.keys(t),s=(i||t).length,r=Array(s),o=0;s>o;o++){var a=i?i[o]:o;r[o]=e(t[a],a,t)}return r},b.reduce=b.foldl=b.inject=t(1),b.reduceRight=b.foldr=t(-1),b.find=b.detect=function(t,e,n){var i;return i=T(t)?b.findIndex(t,e,n):b.findKey(t,e,n),void 0!==i&&-1!==i?t[i]:void 0},b.filter=b.select=function(t,e,n){var i=[];return e=y(e,n),b.each(t,function(t,n,s){e(t,n,s)&&i.push(t)}),i},b.reject=function(t,e,n){return b.filter(t,b.negate(y(e)),n)},b.every=b.all=function(t,e,n){e=y(e,n);for(var i=!T(t)&&b.keys(t),s=(i||t).length,r=0;s>r;r++){var o=i?i[r]:r;if(!e(t[o],o,t))return!1}return!0},b.some=b.any=function(t,e,n){e=y(e,n);for(var i=!T(t)&&b.keys(t),s=(i||t).length,r=0;s>r;r++){var o=i?i[r]:r;if(e(t[o],o,t))return!0}return!1},b.contains=b.includes=b.include=function(t,e,n,i){return T(t)||(t=b.values(t)),("number"!=typeof n||i)&&(n=0),b.indexOf(t,e,n)>=0},b.invoke=function(t,e){var n=u.call(arguments,2),i=b.isFunction(e);return b.map(t,function(t){var s=i?e:t[e];return null==s?s:s.apply(t,n)})},b.pluck=function(t,e){return b.map(t,b.property(e))},b.where=function(t,e){return b.filter(t,b.matcher(e))},b.findWhere=function(t,e){return b.find(t,b.matcher(e))},b.max=function(t,e,n){var i,s,r=-1/0,o=-1/0;if(null==e&&null!=t){t=T(t)?t:b.values(t);for(var a=0,c=t.length;c>a;a++)i=t[a],i>r&&(r=i)}else e=y(e,n),b.each(t,function(t,n,i){s=e(t,n,i),(s>o||s===-1/0&&r===-1/0)&&(r=t,o=s)});return r},b.min=function(t,e,n){var i,s,r=1/0,o=1/0;if(null==e&&null!=t){t=T(t)?t:b.values(t);for(var a=0,c=t.length;c>a;a++)i=t[a],r>i&&(r=i)}else e=y(e,n),b.each(t,function(t,n,i){s=e(t,n,i),(o>s||1/0===s&&1/0===r)&&(r=t,o=s)});return r},b.shuffle=function(t){for(var e,n=T(t)?t:b.values(t),i=n.length,s=Array(i),r=0;i>r;r++)e=b.random(0,r),e!==r&&(s[r]=s[e]),s[e]=n[r];return s},b.sample=function(t,e,n){return null==e||n?(T(t)||(t=b.values(t)),t[b.random(t.length-1)]):b.shuffle(t).slice(0,Math.max(0,e))},b.sortBy=function(t,e,n){return e=y(e,n),b.pluck(b.map(t,function(t,n,i){return{value:t,index:n,criteria:e(t,n,i)}}).sort(function(t,e){var n=t.criteria,i=e.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return t.index-e.index}),"value")};var E=function(t){return function(e,n,i){var s={};return n=y(n,i),b.each(e,function(i,r){var o=n(i,r,e);t(s,i,o)}),s}};b.groupBy=E(function(t,e,n){b.has(t,n)?t[n].push(e):t[n]=[e]}),b.indexBy=E(function(t,e,n){t[n]=e}),b.countBy=E(function(t,e,n){b.has(t,n)?t[n]++:t[n]=1}),b.toArray=function(t){return t?b.isArray(t)?u.call(t):T(t)?b.map(t,b.identity):b.values(t):[]},b.size=function(t){return null==t?0:T(t)?t.length:b.keys(t).length},b.partition=function(t,e,n){e=y(e,n);var i=[],s=[];return b.each(t,function(t,n,r){(e(t,n,r)?i:s).push(t)}),[i,s]},b.first=b.head=b.take=function(t,e,n){return null==t?void 0:null==e||n?t[0]:b.initial(t,t.length-e)},b.initial=function(t,e,n){return u.call(t,0,Math.max(0,t.length-(null==e||n?1:e)))},b.last=function(t,e,n){return null==t?void 0:null==e||n?t[t.length-1]:b.rest(t,Math.max(0,t.length-e))},b.rest=b.tail=b.drop=function(t,e,n){return u.call(t,null==e||n?1:e)},b.compact=function(t){return b.filter(t,b.identity)};var I=function(t,e,n,i){for(var s=[],r=0,o=i||0,a=j(t);a>o;o++){var c=t[o];if(T(c)&&(b.isArray(c)||b.isArguments(c))){e||(c=I(c,e,n));var l=0,u=c.length;for(s.length+=u;u>l;)s[r++]=c[l++]}else n||(s[r++]=c)}return s};b.flatten=function(t,e){return I(t,e,!1)},b.without=function(t){return b.difference(t,u.call(arguments,1))},b.uniq=b.unique=function(t,e,n,i){b.isBoolean(e)||(i=n,n=e,e=!1),null!=n&&(n=y(n,i));for(var s=[],r=[],o=0,a=j(t);a>o;o++){var c=t[o],l=n?n(c,o,t):c;e?(o&&r===l||s.push(c),r=l):n?b.contains(r,l)||(r.push(l),s.push(c)):b.contains(s,c)||s.push(c)}return s},b.union=function(){return b.uniq(I(arguments,!0,!0))},b.intersection=function(t){for(var e=[],n=arguments.length,i=0,s=j(t);s>i;i++){var r=t[i];if(!b.contains(e,r)){for(var o=1;n>o&&b.contains(arguments[o],r);o++);o===n&&e.push(r)}}return e},b.difference=function(t){var e=I(arguments,!0,!0,1);return b.filter(t,function(t){return!b.contains(e,t)})},b.zip=function(){return b.unzip(arguments)},b.unzip=function(t){for(var e=t&&b.max(t,j).length||0,n=Array(e),i=0;e>i;i++)n[i]=b.pluck(t,i);return n},b.object=function(t,e){for(var n={},i=0,s=j(t);s>i;i++)e?n[t[i]]=e[i]:n[t[i][0]]=t[i][1];return n},b.findIndex=e(1),b.findLastIndex=e(-1),b.sortedIndex=function(t,e,n,i){n=y(n,i,1);for(var s=n(e),r=0,o=j(t);o>r;){var a=Math.floor((r+o)/2);n(t[a])<s?r=a+1:o=a}return r},b.indexOf=n(1,b.findIndex,b.sortedIndex),b.lastIndexOf=n(-1,b.findLastIndex),b.range=function(t,e,n){null==e&&(e=t||0,t=0),n=n||1;for(var i=Math.max(Math.ceil((e-t)/n),0),s=Array(i),r=0;i>r;r++,t+=n)s[r]=t;return s};var P=function(t,e,n,i,s){if(!(i instanceof e))return t.apply(n,s);var r=x(t.prototype),o=t.apply(r,s);return b.isObject(o)?o:r};b.bind=function(t,e){if(g&&t.bind===g)return g.apply(t,u.call(arguments,1));if(!b.isFunction(t))throw new TypeError("Bind must be called on a function");var n=u.call(arguments,2),i=function(){return P(t,i,e,this,n.concat(u.call(arguments)))};return i},b.partial=function(t){var e=u.call(arguments,1),n=function(){for(var i=0,s=e.length,r=Array(s),o=0;s>o;o++)r[o]=e[o]===b?arguments[i++]:e[o];for(;i<arguments.length;)r.push(arguments[i++]);return P(t,n,this,this,r)};return n},b.bindAll=function(t){var e,n,i=arguments.length;if(1>=i)throw new Error("bindAll must be passed function names");for(e=1;i>e;e++)n=arguments[e],t[n]=b.bind(t[n],t);return t},b.memoize=function(t,e){var n=function(i){var s=n.cache,r=""+(e?e.apply(this,arguments):i);return b.has(s,r)||(s[r]=t.apply(this,arguments)),s[r]};return n.cache={},n},b.delay=function(t,e){var n=u.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},b.defer=b.partial(b.delay,b,1),b.throttle=function(t,e,n){var i,s,r,o=null,a=0;n||(n={});var c=function(){a=n.leading===!1?0:b.now(),o=null,r=t.apply(i,s),o||(i=s=null)};return function(){var l=b.now();a||n.leading!==!1||(a=l);var u=e-(l-a);return i=this,s=arguments,0>=u||u>e?(o&&(clearTimeout(o),o=null),a=l,r=t.apply(i,s),o||(i=s=null)):o||n.trailing===!1||(o=setTimeout(c,u)),r}},b.debounce=function(t,e,n){var i,s,r,o,a,c=function(){var l=b.now()-o;e>l&&l>=0?i=setTimeout(c,e-l):(i=null,n||(a=t.apply(r,s),i||(r=s=null)))};return function(){r=this,s=arguments,o=b.now();var l=n&&!i;return i||(i=setTimeout(c,e)),l&&(a=t.apply(r,s),r=s=null),a}},b.wrap=function(t,e){return b.partial(e,t)},b.negate=function(t){return function(){return!t.apply(this,arguments)}},b.compose=function(){var t=arguments,e=t.length-1;return function(){for(var n=e,i=t[e].apply(this,arguments);n--;)i=t[n].call(this,i);return i}},b.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},b.before=function(t,e){var n;return function(){return--t>0&&(n=e.apply(this,arguments)),1>=t&&(e=null),n}},b.once=b.partial(b.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];b.keys=function(t){if(!b.isObject(t))return[];if(p)return p(t);var e=[];for(var n in t)b.has(t,n)&&e.push(n);return A&&i(t,e),e},b.allKeys=function(t){if(!b.isObject(t))return[];var e=[];for(var n in t)e.push(n);return A&&i(t,e),e},b.values=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),s=0;n>s;s++)i[s]=t[e[s]];return i},b.mapObject=function(t,e,n){e=y(e,n);for(var i,s=b.keys(t),r=s.length,o={},a=0;r>a;a++)i=s[a],o[i]=e(t[i],i,t);return o},b.pairs=function(t){for(var e=b.keys(t),n=e.length,i=Array(n),s=0;n>s;s++)i[s]=[e[s],t[e[s]]];return i},b.invert=function(t){for(var e={},n=b.keys(t),i=0,s=n.length;s>i;i++)e[t[n[i]]]=n[i];return e},b.functions=b.methods=function(t){var e=[];for(var n in t)b.isFunction(t[n])&&e.push(n);return e.sort()},b.extend=C(b.allKeys),b.extendOwn=b.assign=C(b.keys),b.findKey=function(t,e,n){e=y(e,n);for(var i,s=b.keys(t),r=0,o=s.length;o>r;r++)if(i=s[r],e(t[i],i,t))return i},b.pick=function(t,e,n){var i,s,r={},o=t;if(null==o)return r;b.isFunction(e)?(s=b.allKeys(o),i=w(e,n)):(s=I(arguments,!1,!1,1),i=function(t,e,n){return e in n},o=Object(o));for(var a=0,c=s.length;c>a;a++){var l=s[a],u=o[l];i(u,l,o)&&(r[l]=u)}return r},b.omit=function(t,e,n){if(b.isFunction(e))e=b.negate(e);else{var i=b.map(I(arguments,!1,!1,1),String);e=function(t,e){return!b.contains(i,e)}}return b.pick(t,e,n)},b.defaults=C(b.allKeys,!0),b.create=function(t,e){var n=x(t);return e&&b.extendOwn(n,e),n},b.clone=function(t){return b.isObject(t)?b.isArray(t)?t.slice():b.extend({},t):t},b.tap=function(t,e){return e(t),t},b.isMatch=function(t,e){var n=b.keys(e),i=n.length;if(null==t)return!i;for(var s=Object(t),r=0;i>r;r++){var o=n[r];if(e[o]!==s[o]||!(o in s))return!1}return!0};var D=function(t,e,n,i){if(t===e)return 0!==t||1/t===1/e;if(null==t||null==e)return t===e;t instanceof b&&(t=t._wrapped),e instanceof b&&(e=e._wrapped);var s=h.call(t);if(s!==h.call(e))return!1;switch(s){case"[object RegExp]":case"[object String]":return""+t==""+e;case"[object Number]":return+t!==+t?+e!==+e:0===+t?1/+t===1/e:+t===+e;case"[object Date]":case"[object Boolean]":return+t===+e}var r="[object Array]"===s;if(!r){if("object"!=typeof t||"object"!=typeof e)return!1;var o=t.constructor,a=e.constructor;if(o!==a&&!(b.isFunction(o)&&o instanceof o&&b.isFunction(a)&&a instanceof a)&&"constructor"in t&&"constructor"in e)return!1}n=n||[],i=i||[];for(var c=n.length;c--;)if(n[c]===t)return i[c]===e;if(n.push(t),i.push(e),r){if(c=t.length,c!==e.length)return!1;for(;c--;)if(!D(t[c],e[c],n,i))return!1}else{var l,u=b.keys(t);if(c=u.length,b.keys(e).length!==c)return!1;for(;c--;)if(l=u[c],!b.has(e,l)||!D(t[l],e[l],n,i))return!1}return n.pop(),i.pop(),!0};b.isEqual=function(t,e){return D(t,e)},b.isEmpty=function(t){return null==t?!0:T(t)&&(b.isArray(t)||b.isString(t)||b.isArguments(t))?0===t.length:0===b.keys(t).length},b.isElement=function(t){return!(!t||1!==t.nodeType)},b.isArray=f||function(t){return"[object Array]"===h.call(t)},b.isObject=function(t){var e=typeof t;return"function"===e||"object"===e&&!!t},b.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(t){b["is"+t]=function(e){return h.call(e)==="[object "+t+"]"}}),b.isArguments(arguments)||(b.isArguments=function(t){return b.has(t,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(b.isFunction=function(t){return"function"==typeof t||!1}),b.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},b.isNaN=function(t){return b.isNumber(t)&&t!==+t},b.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"===h.call(t)},b.isNull=function(t){return null===t},b.isUndefined=function(t){return void 0===t},b.has=function(t,e){return null!=t&&d.call(t,e)},b.noConflict=function(){return s._=r,this},b.identity=function(t){return t},b.constant=function(t){return function(){return t}},b.noop=function(){},b.property=S,b.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},b.matcher=b.matches=function(t){return t=b.extendOwn({},t),function(e){return b.isMatch(e,t)}},b.times=function(t,e,n){var i=Array(Math.max(0,t));e=w(e,n,1);for(var s=0;t>s;s++)i[s]=e(s);return i},b.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))},b.now=Date.now||function(){return(new Date).getTime()};var O={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=b.invert(O),H=function(t){var e=function(e){return t[e]},n="(?:"+b.keys(t).join("|")+")",i=RegExp(n),s=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(s,e):t}};b.escape=H(O),b.unescape=H($),b.result=function(t,e,n){var i=null==t?void 0:t[e];return void 0===i&&(i=n),b.isFunction(i)?i.call(t):i};var F=0;b.uniqueId=function(t){var e=++F+"";return t?t+e:e},b.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var M=/(.)^/,L={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},B=/\\|'|\r|\n|\u2028|\u2029/g,R=function(t){return"\\"+L[t]};b.template=function(t,e,n){!e&&n&&(e=n),e=b.defaults({},e,b.templateSettings);var i=RegExp([(e.escape||M).source,(e.interpolate||M).source,(e.evaluate||M).source].join("|")+"|$","g"),s=0,r="__p+='";t.replace(i,function(e,n,i,o,a){return r+=t.slice(s,a).replace(B,R),s=a+e.length,n?r+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?r+="'+\n((__t=("+i+"))==null?'':__t)+\n'":o&&(r+="';\n"+o+"\n__p+='"),e}),r+="';\n",e.variable||(r="with(obj||{}){\n"+r+"}\n"),r="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+r+"return __p;\n";try{var o=new Function(e.variable||"obj","_",r)}catch(a){throw a.source=r,a}var c=function(t){return o.call(this,t,b)},l=e.variable||"obj";return c.source="function("+l+"){\n"+r+"}",c},b.chain=function(t){var e=b(t);return e._chain=!0,e};var z=function(t,e){return t._chain?b(e).chain():e};b.mixin=function(t){b.each(b.functions(t),function(e){var n=b[e]=t[e];b.prototype[e]=function(){var t=[this._wrapped];return l.apply(t,arguments),z(this,n.apply(b,t))}})},b.mixin(b),b.each(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=o[t];b.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!==t&&"splice"!==t||0!==n.length||delete n[0],z(this,n)}}),b.each(["concat","join","slice"],function(t){var e=o[t];b.prototype[t]=function(){return z(this,e.apply(this._wrapped,arguments))}}),b.prototype.value=function(){return this._wrapped},b.prototype.valueOf=b.prototype.toJSON=b.prototype.value,b.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return b})}.call(this),_.templateSettings={interpolate:/\<\#\=(.+?)\#\>/g,evaluate:/\<\#(.+?)\#\>/g,escape:/\<\#\-(.+?)\#\>/g},!function(t){"use strict";t(function(){t.support.transition=function(){var t=function(){var t,e=document.createElement("bootstrap"),n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(t in n)if(void 0!==e.style[t])return n[t]}();return t&&{end:t}}()})}(window.jQuery),!function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){i.trigger("closed").remove()}var i,s=t(this),r=s.attr("data-target");r||(r=s.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,"")),i=t(r),e&&e.preventDefault(),i.length||(i=s.hasClass("alert")?s:s.parent()),i.trigger(e=t.Event("close")),e.isDefaultPrevented()||(i.removeClass("in"),t.support.transition&&i.hasClass("fade")?i.on(t.support.transition.end,n):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),s=i.data("alert");s||i.data("alert",s=new n(this)),"string"==typeof e&&s[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.alert.data-api",e,n.prototype.close)}(window.jQuery),!function(t){"use strict";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.collapse.defaults,n),this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.prototype={constructor:e,dimension:function(){var t=this.$element.hasClass("width");return t?"width":"height"},show:function(){var e,n,i,s;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),n=t.camelCase(["scroll",e].join("-")),i=this.$parent&&this.$parent.find("> .accordion-group > .in"),i&&i.length){if(s=i.data("collapse"),s&&s.transitioning)return;i.collapse("hide"),s||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",t.Event("show"),"shown"),t.support.transition&&this.$element[e](this.$element[0][n])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",t.Event("hide"),"hidden"),this.$element[e](0))},reset:function(t){var e=this.dimension();return this.$element.removeClass("collapse")[e](t||"auto")[0].offsetWidth,this.$element[null!==t?"addClass":"removeClass"]("collapse"),this},transition:function(e,n,i){var s=this,r=function(){"show"==n.type&&s.reset(),s.transitioning=0,s.$element.trigger(i)};this.$element.trigger(n),n.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),t.support.transition&&this.$element.hasClass("collapse")?this.$element.one(t.support.transition.end,r):r())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),s=i.data("collapse"),r=t.extend({},t.fn.collapse.defaults,i.data(),"object"==typeof n&&n);s||i.data("collapse",s=new e(this,r)),"string"==typeof n&&s[n]()})},t.fn.collapse.defaults={toggle:!0},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),s=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),r=t(s).data("collapse")?"toggle":i.data();i[t(s).hasClass("in")?"addClass":"removeClass"]("collapsed"),t(s).collapse(r)})}(window.jQuery),!function(t){"use strict";function e(){t(".dropdown-backdrop").remove(),t(i).each(function(){n(t(this)).removeClass("open")})}function n(e){var n,i=e.attr("data-target");return i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),n=i&&t(i),n&&n.length||(n=e.parent()),n}var i="[data-toggle=dropdown]",s=function(e){var n=t(e).on("click.dropdown.data-api",this.toggle);t("html").on("click.dropdown.data-api",function(){n.parent().removeClass("open")})};s.prototype={constructor:s,toggle:function(){var i,s,r=t(this);return r.is(".disabled, :disabled")?void 0:(i=n(r),s=i.hasClass("open"),e(),s||("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertBefore(t(this)).on("click",e),i.toggleClass("open")),r.focus(),!1)},keydown:function(e){var s,r,o,a,c;if(/(38|40|27)/.test(e.keyCode)&&(s=t(this),e.preventDefault(),e.stopPropagation(),!s.is(".disabled, :disabled"))){if(o=n(s),a=o.hasClass("open"),!a||a&&27==e.keyCode)return 27==e.which&&o.find(i).focus(),s.click();r=t("[role=menu] li:not(.divider):visible a",o),r.length&&(c=r.index(r.filter(":focus")),38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<r.length-1&&c++,~c||(c=0),r.eq(c).focus())}}};var r=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=r,this},t(document).on("click.dropdown.data-api",e).on("click.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.dropdown.data-api",i,s.prototype.toggle).on("keydown.dropdown.data-api",i+", [role=menu]",s.prototype.keydown)}(window.jQuery),!function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype={constructor:e,show:function(){var e,n,i,s=this.element,r=s.closest("ul:not(.dropdown-menu)"),o=s.attr("data-target");o||(o=s.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,"")),s.parent("li").hasClass("active")||(e=r.find(".active:last a")[0],i=t.Event("show",{relatedTarget:e}),s.trigger(i),i.isDefaultPrevented()||(n=t(o),this.activate(s.parent("li"),r),this.activate(n,n.parent(),function(){s.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,n,i){function s(){r.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var r=n.find("> .active"),o=i&&t.support.transition&&r.hasClass("fade");o?r.one(t.support.transition.end,s):s(),r.removeClass("in")}};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),s=i.data("tab");s||i.data("tab",s=new e(this)),"string"==typeof n&&s[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),function(t){void 0===t.fn.each2&&t.fn.extend({each2:function(e){for(var n=t([0]),i=-1,s=this.length;s>++i&&(n.context=n[0]=this[i])&&e.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(t,e){"use strict";function n(t,e){for(var n=0,s=e.length;s>n;n+=1)if(i(t,e[n]))return n;return-1}function i(t,n){return t===n?!0:t===e||n===e?!1:null===t||null===n?!1:t.constructor===String?t+""==n+"":n.constructor===String?n+""==t+"":!1}function s(e,n){var i,s,r;if(null===e||1>e.length)return[];for(i=e.split(n),s=0,r=i.length;r>s;s+=1)i[s]=t.trim(i[s]);return i}function r(t){return t.outerWidth(!1)-t.width()}function o(n){var i="keyup-change-value";n.bind("keydown",function(){t.data(n,i)===e&&t.data(n,i,n.val())}),n.bind("keyup",function(){var s=t.data(n,i);s!==e&&n.val()!==s&&(t.removeData(n,i),n.trigger("keyup-change"))})}function a(n){n.bind("mousemove",function(n){var i=N;(i===e||i.x!==n.pageX||i.y!==n.pageY)&&t(n.target).trigger("mousemove-filtered",n)})}function c(t,n,i){i=i||e;var s;return function(){var e=arguments;window.clearTimeout(s),s=window.setTimeout(function(){n.apply(i,e)},t)}}function l(t){var e,n=!1;return function(){return n===!1&&(e=t(),n=!0),e}}function u(t,e){var i=c(t,function(t){e.trigger("scroll-debounced",t)});e.bind("scroll",function(t){n(t.target,e.get())>=0&&i(t)})}function h(t){t[0]!==document.activeElement&&window.setTimeout(function(){var e,n=t[0],i=t.val().length;t.focus(),t.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(e=n.createTextRange(),e.collapse(!1),e.select()))},0)}function d(t){t.preventDefault(),t.stopPropagation()}function f(t){t.preventDefault(),t.stopImmediatePropagation()}function p(e){if(!A){var n=e[0].currentStyle||window.getComputedStyle(e[0],null);A=t(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),A.attr("class","select2-sizer"),t("body").append(A)}return A.text(e.val()),A.width()}function g(e,n,i){var s,r,o=[];s=e.attr("class"),s&&(s=""+s,t(s.split(" ")).each2(function(){0===this.indexOf("select2-")&&o.push(this)})),s=n.attr("class"),s&&(s=""+s,t(s.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(r=i(this),r&&o.push(this))})),e.attr("class",o.join(" "))}function m(t,n,i,s){var r=t.toUpperCase().indexOf(n.toUpperCase()),o=n.length;return 0>r?(i.push(s(t)),e):(i.push(s(t.substring(0,r))),i.push("<span class='select2-match'>"),i.push(s(t.substring(r,r+o))),i.push("</span>"),i.push(s(t.substring(r+o,t.length))),e)}function v(e){var n,i=0,s=null,r=e.quietMillis||100,o=e.url,a=this;return function(c){window.clearTimeout(n),n=window.setTimeout(function(){i+=1;var n=i,r=e.data,l=o,u=e.transport||t.ajax,h=e.type||"GET",d={};r=r?r.call(a,c.term,c.page,c.context):null,l="function"==typeof l?l.call(a,c.term,c.page,c.context):l,null!==s&&s.abort(),e.params&&(t.isFunction(e.params)?t.extend(d,e.params.call(a)):t.extend(d,e.params)),t.extend(d,{url:l,dataType:e.dataType,data:r,type:h,cache:!1,success:function(t){if(!(i>n)){var s=e.results(t,c.page);c.callback(s)}}}),s=u.call(a,d)},r)}}function b(n){var i,s,r=n,o=function(t){return""+t.text};t.isArray(r)&&(s=r,r={results:s}),t.isFunction(r)===!1&&(s=r,r=function(){return s});var a=r();return a.text&&(o=a.text,t.isFunction(o)||(i=r.text,o=function(t){return t[i]})),function(n){var i,s=n.term,a={results:[]};return""===s?(n.callback(r()),e):(i=function(e,r){var a,c;if(e=e[0],e.children){a={};for(c in e)e.hasOwnProperty(c)&&(a[c]=e[c]);a.children=[],t(e.children).each2(function(t,e){i(e,a.children)}),(a.children.length||n.matcher(s,o(a),e))&&r.push(a)}else n.matcher(s,o(e),e)&&r.push(e)},t(r().results).each2(function(t,e){i(e,a.results)}),n.callback(a),e)}}function w(n){var i=t.isFunction(n);return function(s){var r=s.term,o={results:[]};t(i?n():n).each(function(){var t=this.text!==e,n=t?this.text:this;(""===r||s.matcher(r,n))&&o.results.push(t?this:{id:this,text:this})}),s.callback(o)}}function y(e){if(t.isFunction(e))return!0;if(!e)return!1;throw Error("formatterName must be a function or a falsy value")}function C(e){return t.isFunction(e)?e():e}function x(e){var n=0;return t.each(e,function(t,e){e.children?n+=x(e.children):n++}),n}function S(t,n,s,r){var o,a,c,l,u,h=t,d=!1;if(!r.createSearchChoice||!r.tokenSeparators||1>r.tokenSeparators.length)return e;for(;;){for(a=-1,c=0,l=r.tokenSeparators.length;l>c&&(u=r.tokenSeparators[c],a=t.indexOf(u),!(a>=0));c++);if(0>a)break;if(o=t.substring(0,a),t=t.substring(a+u.length),o.length>0&&(o=r.createSearchChoice(o,n),o!==e&&null!==o&&r.id(o)!==e&&null!==r.id(o))){for(d=!1,c=0,l=n.length;l>c;c++)if(i(r.id(o),r.id(n[c]))){d=!0;break}d||s(o)}}return h!==t?t:e}function k(e,n){var i=function(){};return i.prototype=new e,i.prototype.constructor=i,i.prototype.parent=e.prototype,i.prototype=t.extend(i.prototype,n),i}if(window.Select2===e){var j,T,E,I,P,A,N,D;j={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(t){switch(t=t.which?t.which:t){case j.LEFT:case j.RIGHT:case j.UP:case j.DOWN:return!0}return!1},isControl:function(t){var e=t.which;switch(e){case j.SHIFT:case j.CTRL:case j.ALT:return!0}return!!t.metaKey},isFunctionKey:function(t){return t=t.which?t.which:t,t>=112&&123>=t}},D=t(document),P=function(){var t=1;return function(){return t++}}(),D.bind("mousemove",function(t){N={x:t.pageX,y:t.pageY}}),T=k(Object,{bind:function(t){var e=this;return function(){t.apply(e,arguments)}},init:function(n){var i,s,r=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==e&&null!==n.element.data("select2")&&this.destroy(),this.enabled=!0,this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+P()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=l(function(){return n.element.closest("body")}),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.css(C(n.containerCss)),this.container.addClass(C(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabIndex"),this.opts.element.data("select2",this).addClass("select2-offscreen").bind("focus.select2",function(){t(this).select2("focus")}).attr("tabIndex","-1").before(this.container),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),this.dropdown.addClass(C(n.dropdownCssClass)),this.dropdown.data("select2",this),this.results=i=this.container.find(r),this.search=s=this.container.find("input.select2-input"),s.attr("tabIndex",this.elementTabIndex),this.resultsPage=0,this.context=null,this.initContainer(),a(this.results),this.dropdown.delegate(r,"mousemove-filtered touchstart touchmove touchend",this.bind(this.highlightUnderEvent)),u(80,this.results),this.dropdown.delegate(r,"scroll-debounced",this.bind(this.loadMoreIfNeeded)),t.fn.mousewheel&&i.mousewheel(function(t,e,n,s){var r=i.scrollTop();s>0&&0>=r-s?(i.scrollTop(0),d(t)):0>s&&i.get(0).scrollHeight-i.scrollTop()+s<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),d(t))}),o(s),s.bind("keyup-change input paste",this.bind(this.updateResults)),s.bind("focus",function(){s.addClass("select2-focused")}),s.bind("blur",function(){s.removeClass("select2-focused")}),this.dropdown.delegate(r,"mouseup",this.bind(function(e){t(e.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(e),this.selectHighlighted(e))})),this.dropdown.bind("click mouseup mousedown",function(t){t.stopPropagation()}),t.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),(n.element.is(":disabled")||n.element.is("[readonly='readonly']"))&&this.disable()},destroy:function(){var t=this.opts.element.data("select2");
this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),t!==e&&(t.container.remove(),t.dropdown.remove(),t.opts.element.removeClass("select2-offscreen").removeData("select2").unbind(".select2").attr({tabIndex:this.elementTabIndex}).show())},prepareOpts:function(n){var r,o,a,c;if(r=n.element,"select"===r.get(0).tagName.toLowerCase()&&(this.select=o=n.element),o&&t.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=t.extend({},{populateResults:function(i,s,r){var o,a=this.opts.id,c=this;(o=function(i,s,l){var u,h,d,f,p,g,m,v,b,w;for(i=n.sortResults(i,s,r),u=0,h=i.length;h>u;u+=1)d=i[u],p=d.disabled===!0,f=!p&&a(d)!==e,g=d.children&&d.children.length>0,m=t("<li></li>"),m.addClass("select2-results-dept-"+l),m.addClass("select2-result"),m.addClass(f?"select2-result-selectable":"select2-result-unselectable"),p&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(c.opts.formatResultCssClass(d)),v=t(document.createElement("div")),v.addClass("select2-result-label"),w=n.formatResult(d,v,r,c.opts.escapeMarkup),w!==e&&v.html(w),m.append(v),g&&(b=t("<ul></ul>"),b.addClass("select2-result-sub"),o(d.children,b,l+1),m.append(b)),m.data("select2-data",d),s.append(m)})(s,i,0)}},t.fn.select2.defaults,n),"function"!=typeof n.id&&(a=n.id,n.id=function(t){return t[a]}),t.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(o?(n.query=this.bind(function(n){var s,o,a,c={results:[],more:!1},l=n.term;a=function(t,e){var s;t.is("option")?n.matcher(l,t.text(),t)&&e.push({id:t.attr("value"),text:t.text(),element:t.get(),css:t.attr("class"),disabled:i(t.attr("disabled"),"disabled")}):t.is("optgroup")&&(s={text:t.attr("label"),children:[],element:t.get(),css:t.attr("class")},t.children().each2(function(t,e){a(e,s.children)}),s.children.length>0&&e.push(s))},s=r.children(),this.getPlaceholder()!==e&&s.length>0&&(o=s[0],""===t(o).text()&&(s=s.not(o))),s.each2(function(t,e){a(e,c.results)}),n.callback(c)}),n.id=function(t){return t.id},n.formatResultCssClass=function(t){return t.css}):"query"in n||("ajax"in n?(c=n.element.data("ajax-url"),c&&c.length>0&&(n.ajax.url=c),n.query=v.call(n.element,n.ajax)):"data"in n?n.query=b(n.data):"tags"in n&&(n.query=w(n.tags),n.createSearchChoice===e&&(n.createSearchChoice=function(t){return{id:t,text:t}}),n.initSelection===e&&(n.initSelection=function(r,o){var a=[];t(s(r.val(),n.separator)).each(function(){var s=this,r=this,o=n.tags;t.isFunction(o)&&(o=o()),t(o).each(function(){return i(this.id,s)?(r=this.text,!1):e}),a.push({id:s,text:r})}),o(a)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var t,e=this.opts.element;e.bind("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),t=this.bind(function(){var t,e;t="disabled"!==this.opts.element.attr("disabled"),e="readonly"===this.opts.element.attr("readonly"),t=t&&!e,this.enabled!==t&&(t?this.enable():this.disable()),g(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass)),g(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass))}),e.bind("propertychange.select2 DOMAttrModified.select2",t),"undefined"!=typeof WebKitMutationObserver&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new WebKitMutationObserver(function(e){e.forEach(t)}),this.propertyObserver.observe(e.get(0),{attributes:!0,subtree:!1}))},triggerChange:function(e){e=e||{},e=t.extend({},e,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(e),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},enable:function(){this.enabled||(this.enabled=!0,this.container.removeClass("select2-container-disabled"),this.opts.element.removeAttr("disabled"))},disable:function(){this.enabled&&(this.close(),this.enabled=!1,this.container.addClass("select2-container-disabled"),this.opts.element.attr("disabled","disabled"))},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var e,n,i,s=this.container.offset(),r=this.container.outerHeight(!1),o=this.container.outerWidth(!1),a=this.dropdown.outerHeight(!1),c=t(window).scrollLeft()+t(window).width(),l=t(window).scrollTop()+t(window).height(),u=s.top+r,h=s.left,d=l>=u+a,f=s.top-a>=this.body().scrollTop(),p=this.dropdown.outerWidth(!1),g=c>=h+p,m=this.dropdown.hasClass("select2-drop-above");"static"!==this.body().css("position")&&(e=this.body().offset(),u-=e.top,h-=e.left),m?(n=!0,!f&&d&&(n=!1)):(n=!1,!d&&f&&(n=!0)),g||(h=s.left+o-p),n?(u=s.top-a,this.container.addClass("select2-drop-above"),this.dropdown.addClass("select2-drop-above")):(this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")),i=t.extend({top:u,left:h,width:o},C(this.opts.dropdownCss)),this.dropdown.css(i)},shouldOpen:function(){var e;return this.opened()?!1:(e=t.Event("opening"),this.opts.element.trigger(e),!e.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(window.setTimeout(this.bind(this.opening),1),!0):!1},opening:function(){function e(){return{width:Math.max(document.documentElement.scrollWidth,t(window).width()),height:Math.max(document.documentElement.scrollHeight,t(window).height())}}var n,i=this.containerId,s="scroll."+i,r="resize."+i,o="orientationchange."+i;this.clearDropdownAlignmentPreference(),this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),this.updateResults(!0),n=t("#select2-drop-mask"),0==n.length&&(n=t(document.createElement("div")),n.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),n.hide(),n.appendTo(this.body()),n.bind("mousedown touchstart",function(){var e,n=t("#select2-drop");n.length>0&&(e=n.data("select2"),e.opts.selectOnBlur&&e.selectHighlighted({noFocus:!0}),e.close())})),this.dropdown.prev()[0]!==n[0]&&this.dropdown.before(n),t("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),n.css(e()),n.show(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active"),this.ensureHighlightVisible();var a=this;this.container.parents().add(window).each(function(){t(this).bind(r+" "+s+" "+o,function(){t("#select2-drop-mask").css(e()),a.positionDropdown()})}),this.focusSearch()},close:function(){if(this.opened()){var e=this.containerId,n="scroll."+e,i="resize."+e,s="orientationchange."+e;this.container.parents().add(window).each(function(){t(this).unbind(n).unbind(i).unbind(s)}),this.clearDropdownAlignmentPreference(),t("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(t.Event("close"))}},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var n,i,s,r,o,a,c,l=this.results;if(i=this.highlight(),!(0>i)){if(0==i)return l.scrollTop(0),e;n=this.findHighlightableChoices(),s=t(n[i]),r=s.offset().top+s.outerHeight(!0),i===n.length-1&&(c=l.find("li.select2-more-results"),c.length>0&&(r=c.offset().top+c.outerHeight(!0))),o=l.offset().top+l.outerHeight(!0),r>o&&l.scrollTop(l.scrollTop()+(r-o)),a=s.offset().top-l.offset().top,0>a&&"none"!=s.css("display")&&l.scrollTop(l.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)"),this.results.find(".select2-result-selectable:not(.select2-selected):not(.select2-disabled)")},moveHighlight:function(e){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&n.length>i;){i+=e;var s=t(n[i]);if(s.hasClass("select2-result-selectable")&&!s.hasClass("select2-disabled")&&!s.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(i){var s,r,o=this.findHighlightableChoices();return 0===arguments.length?n(o.filter(".select2-highlighted")[0],o.get()):(i>=o.length&&(i=o.length-1),0>i&&(i=0),this.results.find(".select2-highlighted").removeClass("select2-highlighted"),s=t(o[i]),s.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=s.data("select2-data"),r&&this.opts.element.trigger({type:"highlight",val:this.id(r),choice:r}),e)},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(e){var n=t(e.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.results.find(".select2-highlighted").removeClass("select2-highlighted")},loadMoreIfNeeded:function(){var t,e=this.results,n=e.find("li.select2-more-results"),i=this.resultsPage+1,s=this,r=this.search.val(),o=this.context;0!==n.length&&(t=n.offset().top-e.offset().top-e.height(),this.opts.loadMorePadding>=t&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:r,page:i,context:o,matcher:this.opts.matcher,callback:this.bind(function(t){s.opened()&&(s.opts.populateResults.call(this,e,t.results,{term:r,page:i,context:o}),s.postprocessResults(t,!1,!1),t.more===!0?(n.detach().appendTo(e).text(s.opts.formatLoadMore(i+1)),window.setTimeout(function(){s.loadMoreIfNeeded()},10)):n.remove(),s.positionDropdown(),s.resultsPage=i,s.context=t.context)})})))},tokenize:function(){},updateResults:function(n){function s(){l.scrollTop(0),c.removeClass("select2-active"),h.positionDropdown()}function r(t){l.html(t),s()}var o,a,c=this.search,l=this.results,u=this.opts,h=this,d=c.val(),f=t.data(this.container,"select2-last-term");if((n===!0||!f||!i(d,f))&&(t.data(this.container,"select2-last-term",d),n===!0||this.showSearchInput!==!1&&this.opened())){var p=this.getMaximumSelectionSize();if(p>=1&&(o=this.data(),t.isArray(o)&&o.length>=p&&y(u.formatSelectionTooBig,"formatSelectionTooBig")))return r("<li class='select2-selection-limit'>"+u.formatSelectionTooBig(p)+"</li>"),e;if(c.val().length<u.minimumInputLength)return r(y(u.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+u.formatInputTooShort(c.val(),u.minimumInputLength)+"</li>":""),e;if(u.maximumInputLength&&c.val().length>u.maximumInputLength)return r(y(u.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+u.formatInputTooLong(c.val(),u.maximumInputLength)+"</li>":""),e;u.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+u.formatSearching()+"</li>"),c.addClass("select2-active"),a=this.tokenize(),a!=e&&null!=a&&c.val(a),this.resultsPage=1,u.query({element:u.element,term:c.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(o){var a;return this.opened()?(this.context=o.context===e?null:o.context,this.opts.createSearchChoice&&""!==c.val()&&(a=this.opts.createSearchChoice.call(null,c.val(),o.results),a!==e&&null!==a&&h.id(a)!==e&&null!==h.id(a)&&0===t(o.results).filter(function(){return i(h.id(this),h.id(a))}).length&&o.results.unshift(a)),0===o.results.length&&y(u.formatNoMatches,"formatNoMatches")?(r("<li class='select2-no-results'>"+u.formatNoMatches(c.val())+"</li>"),e):(l.empty(),h.opts.populateResults.call(this,l,o.results,{term:c.val(),page:this.resultsPage,context:null}),o.more===!0&&y(u.formatLoadMore,"formatLoadMore")&&(l.append("<li class='select2-more-results'>"+h.opts.escapeMarkup(u.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){h.loadMoreIfNeeded()},10)),this.postprocessResults(o,n),s(),this.opts.element.trigger({type:"loaded",data:o}),e)):(this.search.removeClass("select2-active"),e)})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(t){var e=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i&&(this.highlight(e),this.onSelect(i,t))},getPlaceholder:function(){return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder},initContainerWidth:function(){function n(){var n,i,s,r,o;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==e)for(i=n.split(";"),r=0,o=i.length;o>r;r+=1)if(s=i[r].replace(/\s/g,"").match(/width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/),null!==s&&s.length>=1)return s[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return t.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),E=k(T,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span></span><abbr class='select2-search-choice-close' style='display:none;'></abbr>","   <div><b></b></div>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop' style='display:none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.focusser.attr("disabled","disabled"))},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.focusser.removeAttr("disabled"))},opening:function(){this.parent.opening.apply(this,arguments),this.focusser.attr("disabled","disabled"),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.removeAttr("disabled"),h(this.focusser))},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},initContainer:function(){var n,i=this.container,s=this.dropdown,r=!1;this.showSearch(this.opts.minimumResultsForSearch>=0),this.selection=n=i.find(".select2-choice"),this.focusser=i.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+P()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===j.PAGE_UP||t.which===j.PAGE_DOWN)return d(t),e;switch(t.which){case j.UP:case j.DOWN:return this.moveHighlight(t.which===j.UP?-1:1),d(t),e;case j.TAB:case j.ENTER:return this.selectHighlighted(),d(t),e;case j.ESC:return this.cancel(t),d(t),e}}})),this.search.bind("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.bind("keydown",this.bind(function(t){return!this.enabled||t.which===j.TAB||j.isControl(t)||j.isFunctionKey(t)||t.which===j.ESC?e:this.opts.openOnEnter===!1&&t.which===j.ENTER?(d(t),e):t.which==j.DOWN||t.which==j.UP||t.which==j.ENTER&&this.opts.openOnEnter?(this.open(),d(t),e):t.which==j.DELETE||t.which==j.BACKSPACE?(this.opts.allowClear&&this.clear(),d(t),e):e})),o(this.focusser),this.focusser.bind("keyup-change input",this.bind(function(t){this.opened()||(this.open(),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.focusser.val(""),d(t))})),n.delegate("abbr","mousedown",this.bind(function(t){this.enabled&&(this.clear(),f(t),this.close(),this.selection.focus())})),n.bind("mousedown",this.bind(function(t){r=!0,this.opened()?this.close():this.enabled&&this.open(),d(t),r=!1})),s.bind("mousedown",this.bind(function(){this.search.focus()})),n.bind("focus",this.bind(function(t){d(t)})),this.focusser.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})).bind("blur",this.bind(function(){this.opened()||this.container.removeClass("select2-container-active")})),this.search.bind("focus",this.bind(function(){this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.setPlaceholder()},clear:function(t){var e=this.selection.data("select2-data");e&&(this.opts.element.val(""),this.selection.find("span").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e})))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text())this.close(),this.setPlaceholder();else{var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.setPlaceholder())})}},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(e,n){var i=e.find(":selected");t.isFunction(n)&&n({id:i.attr("value"),text:i.text(),element:i})}:"data"in e&&(e.initSelection=e.initSelection||function(n,s){var r=n.val(),o=null;e.query({matcher:function(t,n,s){var a=i(r,e.id(s));return a&&(o=s),a},callback:t.isFunction(s)?function(){s(o)}:t.noop})}),e},getPlaceholder:function(){return this.select&&""!==this.select.find("option").first().text()?e:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var t=this.getPlaceholder();if(""===this.opts.element.val()&&t!==e){if(this.select&&""!==this.select.find("option:first").text())return;this.selection.find("span").html(this.opts.escapeMarkup(t)),this.selection.addClass("select2-default"),this.selection.find("abbr").hide()}},postprocessResults:function(t,n,s){var r=0,o=this,a=!0;if(this.findHighlightableChoices().each2(function(t,n){return i(o.id(n.data("select2-data")),o.opts.element.val())?(r=t,!1):e}),s!==!1&&this.highlight(r),n===!0){var c=this.opts.minimumResultsForSearch;a=0>c?!1:x(t.results)>=c,this.showSearch(a)}},showSearch:function(e){this.showSearchInput=e,this.dropdown.find(".select2-search")[e?"removeClass":"addClass"]("select2-search-hidden"),t(this.dropdown,this.container)[e?"addClass":"removeClass"]("select2-with-searchbox")},onSelect:function(t,e){var n=this.opts.element.val();this.opts.element.val(this.id(t)),this.updateSelection(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),this.close(),e&&e.noFocus||this.selection.focus(),i(n,this.id(t))||this.triggerChange()},updateSelection:function(t){var n,i=this.selection.find("span");this.selection.data("select2-data",t),i.empty(),n=this.opts.formatSelection(t,i),n!==e&&i.append(this.opts.escapeMarkup(n)),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==e&&this.selection.find("abbr").show()},val:function(){var t,n=!1,i=null,s=this;if(0===arguments.length)return this.opts.element.val();if(t=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(t).find(":selected").each2(function(t,e){return i={id:e.attr("value"),text:e.text(),element:e.get(0)},!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("cannot call val() if initSelection() is not defined");if(!t&&0!==t)return this.clear(n),n&&this.triggerChange(),e;this.opts.element.val(t),this.opts.initSelection(this.opts.element,function(t){s.opts.element.val(t?s.id(t):""),s.updateSelection(t),s.setPlaceholder(),n&&s.triggerChange()})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(t){var n;return 0===arguments.length?(n=this.selection.data("select2-data"),n==e&&(n=null),n):(t&&""!==t?(this.opts.element.val(t?this.id(t):""),this.updateSelection(t)):this.clear(),e)}}),I=k(T,{createContainer:function(){var e=t(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["    <ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi' style='display:none;'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return e},prepareOpts:function(){var e=this.parent.prepareOpts.apply(this,arguments);return"select"===e.element.get(0).tagName.toLowerCase()?e.initSelection=function(t,e){var n=[];t.find(":selected").each2(function(t,e){n.push({id:e.attr("value"),text:e.text(),element:e[0]})}),e(n)}:"data"in e&&(e.initSelection=e.initSelection||function(n,r){var o=s(n.val(),e.separator),a=[];e.query({matcher:function(n,s,r){var c=t.grep(o,function(t){return i(t,e.id(r))}).length;return c&&a.push(r),c},callback:t.isFunction(r)?function(){r(a)}:t.noop})}),e},initContainer:function(){var n,i=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=n=this.container.find(i),this.search.attr("id","s2id_autogen"+P()),t("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.bind("input paste",this.bind(function(){this.enabled&&(this.opened()||this.open())})),this.search.bind("keydown",this.bind(function(t){if(this.enabled){if(t.which===j.BACKSPACE&&""===this.search.val()){this.close();var i,s=n.find(".select2-search-choice-focus");if(s.length>0)return this.unselect(s.first()),this.search.width(10),d(t),e;i=n.find(".select2-search-choice:not(.select2-locked)"),i.length>0&&i.last().addClass("select2-search-choice-focus")}else n.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus");if(this.opened())switch(t.which){case j.UP:case j.DOWN:return this.moveHighlight(t.which===j.UP?-1:1),d(t),e;case j.ENTER:case j.TAB:return this.selectHighlighted(),d(t),e;case j.ESC:return this.cancel(t),d(t),e}if(t.which!==j.TAB&&!j.isControl(t)&&!j.isFunctionKey(t)&&t.which!==j.BACKSPACE&&t.which!==j.ESC){if(t.which===j.ENTER){if(this.opts.openOnEnter===!1)return;if(t.altKey||t.ctrlKey||t.shiftKey||t.metaKey)return}this.open(),(t.which===j.PAGE_UP||t.which===j.PAGE_DOWN)&&d(t),t.which===j.ENTER&&d(t)}}})),this.search.bind("keyup",this.bind(this.resizeSearch)),this.search.bind("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.opened()||this.clearSearch(),t.stopImmediatePropagation()})),this.container.delegate(i,"mousedown",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").length>0||(this.clearPlaceholder(),this.open(),this.focusSearch(),e.preventDefault()))})),this.container.delegate(i,"focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.clearSearch()},enable:function(){this.enabled||(this.parent.enable.apply(this,arguments),this.search.removeAttr("disabled"))},disable:function(){this.enabled&&(this.parent.disable.apply(this,arguments),this.search.attr("disabled",!0))},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var t=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==e&&null!==n&&(t.updateSelection(n),t.close(),t.clearSearch())})}},clearSearch:function(){var t=this.getPlaceholder();t!==e&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(t).addClass("select2-default"),this.search.width(this.getMaxSearchWidth())):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.opts.element.trigger(t.Event("open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(e){var i=[],s=[],r=this;t(e).each(function(){0>n(r.id(this),i)&&(i.push(r.id(this)),s.push(this))}),e=s,this.selection.find(".select2-search-choice").remove(),t(e).each(function(){r.addSelectedChoice(this)}),r.postprocessResults()},tokenize:function(){var t=this.search.val();t=this.opts.tokenizer(t,this.data(),this.bind(this.onSelect),this.opts),null!=t&&t!=e&&(this.search.val(t),t.length>0&&this.open())},onSelect:function(t,e){this.addSelectedChoice(t),this.opts.element.trigger({type:"selected",val:this.id(t),choice:t}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:t}),e&&e.noFocus||this.focusSearch()},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,s=!n.locked,r=t("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),o=t("<li class='select2-search-choice select2-locked'><div></div></li>"),a=s?r:o,c=this.id(n),l=this.getVal();i=this.opts.formatSelection(n,a.find("div")),i!=e&&a.find("div").replaceWith("<div>"+this.opts.escapeMarkup(i)+"</div>"),s&&a.find(".select2-search-choice-close").bind("mousedown",d).bind("click dblclick",this.bind(function(e){this.enabled&&(t(e.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(t(e.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),d(e))})).bind("focus",this.bind(function(){this.enabled&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),a.data("select2-data",n),a.insertBefore(this.searchContainer),l.push(c),this.setVal(l)},unselect:function(t){var e,i,s=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";e=t.data("select2-data"),e&&(i=n(this.id(e),s),i>=0&&(s.splice(i,1),this.setVal(s),this.select&&this.postprocessResults()),t.remove(),this.opts.element.trigger({type:"removed",val:this.id(e),choice:e}),this.triggerChange({removed:e}))},postprocessResults:function(){var t=this.getVal(),e=this.results.find(".select2-result"),i=this.results.find(".select2-result-with-children"),s=this;e.each2(function(e,i){var r=s.id(i.data("select2-data"));n(r,t)>=0&&(i.addClass("select2-selected"),i.find(".select2-result-selectable").addClass("select2-selected"))}),i.each2(function(t,e){e.is(".select2-result-selectable")||0!==e.find(".select2-result-selectable:not(.select2-selected)").length||e.addClass("select2-selected")}),-1==this.highlight()&&s.highlight(0)},getMaxSearchWidth:function(){return this.selection.width()-r(this.search)},resizeSearch:function(){var t,e,n,i,s,o=r(this.search);t=p(this.search)+10,e=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,s=n-(e-i)-o,t>s&&(s=n-o),40>s&&(s=n-o),0>=s&&(s=t),this.search.width(s)},getVal:function(){var t;return this.select?(t=this.select.val(),null===t?[]:t):(t=this.opts.element.val(),s(t,this.opts.separator))},setVal:function(e){var i;this.select?this.select.val(e):(i=[],t(e).each(function(){0>n(this,i)&&i.push(this)}),this.opts.element.val(0===i.length?"":i.join(this.opts.separator)))},val:function(){var n,i=!1,s=this;if(0===arguments.length)return this.getVal();if(n=arguments[0],arguments.length>1&&(i=arguments[1]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),i&&this.triggerChange(),e;if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange();else{if(this.opts.initSelection===e)throw Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(e){var n=t(e).map(s.id);s.setVal(n),s.updateSelection(e),s.clearSearch(),i&&s.triggerChange()})}this.clearSearch()},onSortStart:function(){if(this.select)throw Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var e=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){e.push(n.opts.id(t(this).data("select2-data")))}),this.setVal(e),this.triggerChange()},data:function(n){var i,s=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return t(this).data("select2-data")}).get():(n||(n=[]),i=t.map(n,function(t){return s.opts.id(t)}),this.setVal(i),this.updateSelection(n),this.clearSearch(),e)}}),t.fn.select2=function(){var i,s,r,o,a=Array.prototype.slice.call(arguments,0),c=["val","destroy","opened","open","close","focus","isFocused","container","onSortStart","onSortEnd","enable","disable","positionDropdown","data"];return this.each(function(){if(0===a.length||"object"==typeof a[0])i=0===a.length?{}:t.extend({},a[0]),i.element=t(this),"select"===i.element.get(0).tagName.toLowerCase()?o=i.element.attr("multiple"):(o=i.multiple||!1,"tags"in i&&(i.multiple=o=!0)),s=o?new I:new E,s.init(i);else{if("string"!=typeof a[0])throw"Invalid arguments to select2 plugin: "+a;if(0>n(a[0],c))throw"Unknown method: "+a[0];if(r=e,s=t(this).data("select2"),s===e)return;if(r="container"===a[0]?s.container:s[a[0]].apply(s,a.slice(1)),r!==e)return!1}}),r===e?this:r},t.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(t,e,n,i){var s=[];return m(t.text,n.term,s,i),s.join("")},formatSelection:function(t){return t?t.text:e},sortResults:function(t){return t},formatResultCssClass:function(){return e},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(t,e){var n=e-t.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(t,e){var n=t.length-e;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(t){return"You can only select "+t+" item"+(1==t?"":"s");
},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(t){return t.id},matcher:function(t,e){return(""+e).toUpperCase().indexOf((""+t).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:S,escapeMarkup:function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&apos;","/":"&#47;"};return(t+"").replace(/[&<>"'\/\\]/g,function(t){return e[t[0]]})},blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(t){return t},adaptDropdownCssClass:function(){return null}},window.Select2={query:{ajax:v,local:b,tags:w},util:{debounce:c,markMatch:m},"class":{"abstract":T,single:E,multi:I}}}}(jQuery),function(t){t.extend(t.fn.select2.defaults,{formatNoMatches:function(){return"No se encontraron resultados"},formatInputTooShort:function(t,e){var n=e-t.length;return"Por favor adicione "+n+" caracter"+(1==n?"":"es")},formatInputTooLong:function(t,e){var n=t.length-e;return"Por favor elimine "+n+" caracter"+(1==n?"":"es")},formatSelectionTooBig:function(t){return"Solo puede seleccionar "+t+" elemento"+(1==t?"":"s")},formatLoadMore:function(){return"Cargando ms resultados..."},formatSearching:function(){return"Buscando..."}})}(jQuery),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t:t(jQuery)}(function(t){function e(e){var s,r=e||window.event,o=[].slice.call(arguments,1),a=0,c=0,l=0,u=0,h=0;return e=t.event.fix(r),e.type="mousewheel",r.wheelDelta&&(a=r.wheelDelta),r.detail&&(a=-1*r.detail),r.deltaY&&(l=-1*r.deltaY,a=l),r.deltaX&&(c=r.deltaX,a=-1*c),void 0!==r.wheelDeltaY&&(l=r.wheelDeltaY),void 0!==r.wheelDeltaX&&(c=-1*r.wheelDeltaX),u=Math.abs(a),(!n||n>u)&&(n=u),h=Math.max(Math.abs(l),Math.abs(c)),(!i||i>h)&&(i=h),s=a>0?"floor":"ceil",a=Math[s](a/n),c=Math[s](c/i),l=Math[s](l/i),o.unshift(e,a,c,l),(t.event.dispatch||t.event.handle).apply(this,o)}var n,i,s=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"];if(t.event.fixHooks)for(var o=s.length;o;)t.event.fixHooks[s[--o]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=r.length;t;)this.addEventListener(r[--t],e,!1);else this.onmousewheel=e},teardown:function(){if(this.removeEventListener)for(var t=r.length;t;)this.removeEventListener(r[--t],e,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}),!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.fn.jScrollPane=function(e){function n(e,n){function i(n){var r,a,l,u,h,p,g=!1,m=!1;if(B=n,void 0===R)h=e.scrollTop(),p=e.scrollLeft(),e.css({overflow:"hidden",padding:0}),z=e.innerWidth()+vt,W=e.innerHeight(),e.width(z),R=t('<div class="jspPane" />').css("padding",mt).append(e.children()),_=t('<div class="jspContainer" />').css({width:z+"px",height:W+"px"}).append(R).appendTo(e);else{if(e.css("width",""),g=B.stickToBottom&&T(),m=B.stickToRight&&E(),u=e.innerWidth()+vt!=z||e.outerHeight()!=W,u&&(z=e.innerWidth()+vt,W=e.innerHeight(),_.css({width:z+"px",height:W+"px"})),!u&&bt==Y&&R.outerHeight()==V)return void e.width(z);bt=Y,R.css("width",""),e.width(z),_.find(">.jspVerticalBar,>.jspHorizontalBar").remove().end()}R.css("overflow","auto"),Y=n.contentWidth?n.contentWidth:R[0].scrollWidth,V=R[0].scrollHeight,R.css("overflow",""),q=Y/z,U=V/W,K=U>1,Q=q>1,Q||K?(e.addClass("jspScrollable"),r=B.maintainPosition&&(Z||et),r&&(a=k(),l=j()),s(),o(),c(),r&&(x(m?Y-z:a,!1),C(g?V-W:l,!1)),N(),I(),M(),B.enableKeyboardNavigation&&O(),B.clickOnTrack&&d(),H(),B.hijackInternalLinks&&F()):(e.removeClass("jspScrollable"),R.css({top:0,left:0,width:_.width()-vt}),P(),D(),$(),f()),B.autoReinitialise&&!gt?gt=setInterval(function(){i(B)},B.autoReinitialiseDelay):!B.autoReinitialise&&gt&&clearInterval(gt),h&&e.scrollTop(0)&&C(h,!1),p&&e.scrollLeft(0)&&x(p,!1),e.trigger("jsp-initialised",[Q||K])}function s(){K&&(_.append(t('<div class="jspVerticalBar" />').append(t('<div class="jspCap jspCapTop" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragTop" />'),t('<div class="jspDragBottom" />'))),t('<div class="jspCap jspCapBottom" />'))),nt=_.find(">.jspVerticalBar"),it=nt.find(">.jspTrack"),X=it.find(">.jspDrag"),B.showArrows&&(at=t('<a class="jspArrow jspArrowUp" />').bind("mousedown.jsp",u(0,-1)).bind("click.jsp",A),ct=t('<a class="jspArrow jspArrowDown" />').bind("mousedown.jsp",u(0,1)).bind("click.jsp",A),B.arrowScrollOnHover&&(at.bind("mouseover.jsp",u(0,-1,at)),ct.bind("mouseover.jsp",u(0,1,ct))),l(it,B.verticalArrowPositions,at,ct)),rt=W,_.find(">.jspVerticalBar>.jspCap:visible,>.jspVerticalBar>.jspArrow").each(function(){rt-=t(this).outerHeight()}),X.hover(function(){X.addClass("jspHover")},function(){X.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",A),X.addClass("jspActive");var n=e.pageY-X.position().top;return t("html").bind("mousemove.jsp",function(t){g(t.pageY-n,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),r())}function r(){it.height(rt+"px"),Z=0,st=B.verticalGutter+it.outerWidth(),R.width(z-st-vt);try{0===nt.position().left&&R.css("margin-left",st+"px")}catch(t){}}function o(){Q&&(_.append(t('<div class="jspHorizontalBar" />').append(t('<div class="jspCap jspCapLeft" />'),t('<div class="jspTrack" />').append(t('<div class="jspDrag" />').append(t('<div class="jspDragLeft" />'),t('<div class="jspDragRight" />'))),t('<div class="jspCap jspCapRight" />'))),lt=_.find(">.jspHorizontalBar"),ut=lt.find(">.jspTrack"),J=ut.find(">.jspDrag"),B.showArrows&&(ft=t('<a class="jspArrow jspArrowLeft" />').bind("mousedown.jsp",u(-1,0)).bind("click.jsp",A),pt=t('<a class="jspArrow jspArrowRight" />').bind("mousedown.jsp",u(1,0)).bind("click.jsp",A),B.arrowScrollOnHover&&(ft.bind("mouseover.jsp",u(-1,0,ft)),pt.bind("mouseover.jsp",u(1,0,pt))),l(ut,B.horizontalArrowPositions,ft,pt)),J.hover(function(){J.addClass("jspHover")},function(){J.removeClass("jspHover")}).bind("mousedown.jsp",function(e){t("html").bind("dragstart.jsp selectstart.jsp",A),J.addClass("jspActive");var n=e.pageX-J.position().left;return t("html").bind("mousemove.jsp",function(t){v(t.pageX-n,!1)}).bind("mouseup.jsp mouseleave.jsp",p),!1}),ht=_.innerWidth(),a())}function a(){_.find(">.jspHorizontalBar>.jspCap:visible,>.jspHorizontalBar>.jspArrow").each(function(){ht-=t(this).outerWidth()}),ut.width(ht+"px"),et=0}function c(){if(Q&&K){var e=ut.outerHeight(),n=it.outerWidth();rt-=e,t(lt).find(">.jspCap:visible,>.jspArrow").each(function(){ht+=t(this).outerWidth()}),ht-=n,W-=n,z-=e,ut.parent().append(t('<div class="jspCorner" />').css("width",e+"px")),r(),a()}Q&&R.width(_.outerWidth()-vt+"px"),V=R.outerHeight(),U=V/W,Q&&(dt=Math.ceil(1/q*ht),dt>B.horizontalDragMaxWidth?dt=B.horizontalDragMaxWidth:dt<B.horizontalDragMinWidth&&(dt=B.horizontalDragMinWidth),J.width(dt+"px"),tt=ht-dt,b(et)),K&&(ot=Math.ceil(1/U*rt),ot>B.verticalDragMaxHeight?ot=B.verticalDragMaxHeight:ot<B.verticalDragMinHeight&&(ot=B.verticalDragMinHeight),X.height(ot+"px"),G=rt-ot,m(Z))}function l(t,e,n,i){var s,r="before",o="after";"os"==e&&(e=/Mac/.test(navigator.platform)?"after":"split"),e==r?o=e:e==o&&(r=e,s=n,n=i,i=s),t[r](n)[o](i)}function u(t,e,n){return function(){return h(t,e,this,n),this.blur(),!1}}function h(e,n,i,s){i=t(i).addClass("jspActive");var r,o,a=!0,c=function(){0!==e&&wt.scrollByX(e*B.arrowButtonSpeed),0!==n&&wt.scrollByY(n*B.arrowButtonSpeed),o=setTimeout(c,a?B.initialDelay:B.arrowRepeatFreq),a=!1};c(),r=s?"mouseout.jsp":"mouseup.jsp",s=s||t("html"),s.bind(r,function(){i.removeClass("jspActive"),o&&clearTimeout(o),o=null,s.unbind(r)})}function d(){f(),K&&it.bind("mousedown.jsp",function(e){if(void 0===e.originalTarget||e.originalTarget==e.currentTarget){var n,i=t(this),s=i.offset(),r=e.pageY-s.top-Z,o=!0,a=function(){var t=i.offset(),s=e.pageY-t.top-ot/2,l=W*B.scrollPagePercent,u=G*l/(V-W);if(0>r)Z-u>s?wt.scrollByY(-l):g(s);else{if(!(r>0))return void c();s>Z+u?wt.scrollByY(l):g(s)}n=setTimeout(a,o?B.initialDelay:B.trackClickRepeatFreq),o=!1},c=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",c)};return a(),t(document).bind("mouseup.jsp",c),!1}}),Q&&ut.bind("mousedown.jsp",function(e){if(void 0===e.originalTarget||e.originalTarget==e.currentTarget){var n,i=t(this),s=i.offset(),r=e.pageX-s.left-et,o=!0,a=function(){var t=i.offset(),s=e.pageX-t.left-dt/2,l=z*B.scrollPagePercent,u=tt*l/(Y-z);if(0>r)et-u>s?wt.scrollByX(-l):v(s);else{if(!(r>0))return void c();s>et+u?wt.scrollByX(l):v(s)}n=setTimeout(a,o?B.initialDelay:B.trackClickRepeatFreq),o=!1},c=function(){n&&clearTimeout(n),n=null,t(document).unbind("mouseup.jsp",c)};return a(),t(document).bind("mouseup.jsp",c),!1}})}function f(){ut&&ut.unbind("mousedown.jsp"),it&&it.unbind("mousedown.jsp")}function p(){t("html").unbind("dragstart.jsp selectstart.jsp mousemove.jsp mouseup.jsp mouseleave.jsp"),X&&X.removeClass("jspActive"),J&&J.removeClass("jspActive")}function g(t,e){K&&(0>t?t=0:t>G&&(t=G),void 0===e&&(e=B.animateScroll),e?wt.animate(X,"top",t,m):(X.css("top",t),m(t)))}function m(t){void 0===t&&(t=X.position().top),_.scrollTop(0),Z=t||0;var n=0===Z,i=Z==G,s=t/G,r=-s*(V-W);(yt!=n||xt!=i)&&(yt=n,xt=i,e.trigger("jsp-arrow-change",[yt,xt,Ct,St])),w(n,i),R.css("top",r),e.trigger("jsp-scroll-y",[-r,n,i]).trigger("scroll")}function v(t,e){Q&&(0>t?t=0:t>tt&&(t=tt),void 0===e&&(e=B.animateScroll),e?wt.animate(J,"left",t,b):(J.css("left",t),b(t)))}function b(t){void 0===t&&(t=J.position().left),_.scrollTop(0),et=t||0;var n=0===et,i=et==tt,s=t/tt,r=-s*(Y-z);(Ct!=n||St!=i)&&(Ct=n,St=i,e.trigger("jsp-arrow-change",[yt,xt,Ct,St])),y(n,i),R.css("left",r),e.trigger("jsp-scroll-x",[-r,n,i]).trigger("scroll")}function w(t,e){B.showArrows&&(at[t?"addClass":"removeClass"]("jspDisabled"),ct[e?"addClass":"removeClass"]("jspDisabled"))}function y(t,e){B.showArrows&&(ft[t?"addClass":"removeClass"]("jspDisabled"),pt[e?"addClass":"removeClass"]("jspDisabled"))}function C(t,e){var n=t/(V-W);g(n*G,e)}function x(t,e){var n=t/(Y-z);v(n*tt,e)}function S(e,n,i){var s,r,o,a,c,l,u,h,d,f=0,p=0;try{s=t(e)}catch(g){return}for(r=s.outerHeight(),o=s.outerWidth(),_.scrollTop(0),_.scrollLeft(0);!s.is(".jspPane");)if(f+=s.position().top,p+=s.position().left,s=s.offsetParent(),/^body|html$/i.test(s[0].nodeName))return;a=j(),l=a+W,a>f||n?h=f-B.horizontalGutter:f+r>l&&(h=f-W+r+B.horizontalGutter),isNaN(h)||C(h,i),c=k(),u=c+z,c>p||n?d=p-B.horizontalGutter:p+o>u&&(d=p-z+o+B.horizontalGutter),isNaN(d)||x(d,i)}function k(){return-R.position().left}function j(){return-R.position().top}function T(){var t=V-W;return t>20&&t-j()<10}function E(){var t=Y-z;return t>20&&t-k()<10}function I(){_.unbind(jt).bind(jt,function(t,e,n,i){et||(et=0),Z||(Z=0);var s=et,r=Z,o=t.deltaFactor||B.mouseWheelSpeed;return wt.scrollBy(n*o,-i*o,!1),s==et&&r==Z})}function P(){_.unbind(jt)}function A(){return!1}function N(){R.find(":input,a").unbind("focus.jsp").bind("focus.jsp",function(t){S(t.target,!1)})}function D(){R.find(":input,a").unbind("focus.jsp")}function O(){function n(){var t=et,e=Z;switch(i){case 40:wt.scrollByY(B.keyboardSpeed,!1);break;case 38:wt.scrollByY(-B.keyboardSpeed,!1);break;case 34:case 32:wt.scrollByY(W*B.scrollPagePercent,!1);break;case 33:wt.scrollByY(-W*B.scrollPagePercent,!1);break;case 39:wt.scrollByX(B.keyboardSpeed,!1);break;case 37:wt.scrollByX(-B.keyboardSpeed,!1)}return s=t!=et||e!=Z}var i,s,r=[];Q&&r.push(lt[0]),K&&r.push(nt[0]),R.bind("focus.jsp",function(){e.focus()}),e.attr("tabindex",0).unbind("keydown.jsp keypress.jsp").bind("keydown.jsp",function(e){if(e.target===this||r.length&&t(e.target).closest(r).length){var o=et,a=Z;switch(e.keyCode){case 40:case 38:case 34:case 32:case 33:case 39:case 37:i=e.keyCode,n();break;case 35:C(V-W),i=null;break;case 36:C(0),i=null}return s=e.keyCode==i&&o!=et||a!=Z,!s}}).bind("keypress.jsp",function(t){return t.keyCode==i&&n(),!s}),B.hideFocus?(e.css("outline","none"),"hideFocus"in _[0]&&e.attr("hideFocus",!0)):(e.css("outline",""),"hideFocus"in _[0]&&e.attr("hideFocus",!1))}function $(){e.attr("tabindex","-1").removeAttr("tabindex").unbind("keydown.jsp keypress.jsp"),R.unbind(".jsp")}function H(){if(location.hash&&location.hash.length>1){var e,n,i=escape(location.hash.substr(1));try{e=t("#"+i+', a[name="'+i+'"]')}catch(s){return}e.length&&R.find(i)&&(0===_.scrollTop()?n=setInterval(function(){_.scrollTop()>0&&(S(e,!0),t(document).scrollTop(_.position().top),clearInterval(n))},50):(S(e,!0),t(document).scrollTop(_.position().top)))}}function F(){t(document.body).data("jspHijack")||(t(document.body).data("jspHijack",!0),t(document.body).delegate("a[href*=#]","click",function(e){var n,i,s,r,o,a,c=this.href.substr(0,this.href.indexOf("#")),l=location.href;if(-1!==location.href.indexOf("#")&&(l=location.href.substr(0,location.href.indexOf("#"))),c===l){n=escape(this.href.substr(this.href.indexOf("#")+1));try{i=t("#"+n+', a[name="'+n+'"]')}catch(u){return}i.length&&(s=i.closest(".jspScrollable"),r=s.data("jsp"),r.scrollToElement(i,!0),s[0].scrollIntoView&&(o=t(window).scrollTop(),a=i.offset().top,(o>a||a>o+t(window).height())&&s[0].scrollIntoView()),e.preventDefault())}}))}function M(){var t,e,n,i,s,r=!1;_.unbind("touchstart.jsp touchmove.jsp touchend.jsp click.jsp-touchclick").bind("touchstart.jsp",function(o){var a=o.originalEvent.touches[0];t=k(),e=j(),n=a.pageX,i=a.pageY,s=!1,r=!0}).bind("touchmove.jsp",function(o){if(r){var a=o.originalEvent.touches[0],c=et,l=Z;return wt.scrollTo(t+n-a.pageX,e+i-a.pageY),s=s||Math.abs(n-a.pageX)>5||Math.abs(i-a.pageY)>5,c==et&&l==Z}}).bind("touchend.jsp",function(){r=!1}).bind("click.jsp-touchclick",function(){return s?(s=!1,!1):void 0})}function L(){var t=j(),n=k();e.removeClass("jspScrollable").unbind(".jsp"),R.unbind(".jsp"),e.replaceWith(kt.append(R.children())),kt.scrollTop(t),kt.scrollLeft(n),gt&&clearInterval(gt)}var B,R,z,W,_,Y,V,q,U,K,Q,X,G,Z,J,tt,et,nt,it,st,rt,ot,at,ct,lt,ut,ht,dt,ft,pt,gt,mt,vt,bt,wt=this,yt=!0,Ct=!0,xt=!1,St=!1,kt=e.clone(!1,!1).empty(),jt=t.fn.mwheelIntent?"mwheelIntent.jsp":"mousewheel.jsp";"border-box"===e.css("box-sizing")?(mt=0,vt=0):(mt=e.css("paddingTop")+" "+e.css("paddingRight")+" "+e.css("paddingBottom")+" "+e.css("paddingLeft"),vt=(parseInt(e.css("paddingLeft"),10)||0)+(parseInt(e.css("paddingRight"),10)||0)),t.extend(wt,{reinitialise:function(e){e=t.extend({},B,e),i(e)},scrollToElement:function(t,e,n){S(t,e,n)},scrollTo:function(t,e,n){x(t,n),C(e,n)},scrollToX:function(t,e){x(t,e)},scrollToY:function(t,e){C(t,e)},scrollToPercentX:function(t,e){x(t*(Y-z),e)},scrollToPercentY:function(t,e){C(t*(V-W),e)},scrollBy:function(t,e,n){wt.scrollByX(t,n),wt.scrollByY(e,n)},scrollByX:function(t,e){var n=k()+Math[0>t?"floor":"ceil"](t),i=n/(Y-z);v(i*tt,e)},scrollByY:function(t,e){var n=j()+Math[0>t?"floor":"ceil"](t),i=n/(V-W);g(i*G,e)},positionDragX:function(t,e){v(t,e)},positionDragY:function(t,e){g(t,e)},animate:function(t,e,n,i){var s={};s[e]=n,t.animate(s,{duration:B.animateDuration,easing:B.animateEase,queue:!1,step:i})},getContentPositionX:function(){return k()},getContentPositionY:function(){return j()},getContentWidth:function(){return Y},getContentHeight:function(){return V},getPercentScrolledX:function(){return k()/(Y-z)},getPercentScrolledY:function(){return j()/(V-W)},getIsScrollableH:function(){return Q},getIsScrollableV:function(){return K},getContentPane:function(){return R},scrollToBottom:function(t){g(G,t)},hijackInternalLinks:t.noop,destroy:function(){L()}}),i(n)}return e=t.extend({},t.fn.jScrollPane.defaults,e),t.each(["arrowButtonSpeed","trackClickSpeed","keyboardSpeed"],function(){e[this]=e[this]||e.speed}),this.each(function(){var i=t(this),s=i.data("jsp");s?s.reinitialise(e):(t("script",i).filter('[type="text/javascript"],:not([type])').remove(),s=new n(i,e),i.data("jsp",s))})},t.fn.jScrollPane.defaults={showArrows:!1,maintainPosition:!0,stickToBottom:!1,stickToRight:!1,clickOnTrack:!0,autoReinitialise:!1,autoReinitialiseDelay:500,verticalDragMinHeight:0,verticalDragMaxHeight:99999,horizontalDragMinWidth:0,horizontalDragMaxWidth:99999,contentWidth:void 0,animateScroll:!1,animateDuration:300,animateEase:"linear",hijackInternalLinks:!1,verticalGutter:4,horizontalGutter:4,mouseWheelSpeed:3,arrowButtonSpeed:0,arrowRepeatFreq:50,arrowScrollOnHover:!1,trackClickSpeed:0,trackClickRepeatFreq:70,verticalArrowPositions:"split",horizontalArrowPositions:"split",enableKeyboardNavigation:!0,hideFocus:!1,keyboardSpeed:0,initialDelay:300,speed:30,scrollPagePercent:.8}}),function($){$.extend({metadata:{defaults:{type:"class",name:"metadata",cre:/({.*})/,single:"metadata"},setType:function(t,e){this.defaults.type=t,this.defaults.name=e},get:function(elem,opts){var settings=$.extend({},this.defaults,opts);settings.single.length||(settings.single="metadata");var data=$.data(elem,settings.single);if(data)return data;if(data="{}","class"==settings.type){var m=settings.cre.exec(elem.className);m&&(data=m[1])}else if("elem"==settings.type){if(!elem.getElementsByTagName)return;var e=elem.getElementsByTagName(settings.name);e.length&&(data=$.trim(e[0].innerHTML))}else if(void 0!=elem.getAttribute){var attr=elem.getAttribute(settings.name);attr&&(data=attr)}return data.indexOf("{")<0&&(data="{"+data+"}"),data=eval("("+data+")"),$.data(elem,settings.single,data),data}}}),$.fn.metadata=function(t){return $.metadata.get(this[0],t)}}(jQuery),function($){$.extend({tablesorter:new function(){function benchmark(t,e){log(t+","+((new Date).getTime()-e.getTime())+"ms")}function log(t){"undefined"!=typeof console&&"undefined"!=typeof console.debug?console.log(t):alert(t)}function buildParserCache(t,e){if(t.config.debug)var n="";if(0!=t.tBodies.length){var i=t.tBodies[0].rows;if(i[0])for(var s=[],r=i[0].cells,o=r.length,a=0;o>a;a++){var c=!1;$.metadata&&$(e[a]).metadata()&&$(e[a]).metadata().sorter?c=getParserById($(e[a]).metadata().sorter):t.config.headers[a]&&t.config.headers[a].sorter&&(c=getParserById(t.config.headers[a].sorter)),c||(c=detectParserForColumn(t,i,-1,a)),t.config.debug&&(n+="column:"+a+" parser:"+c.id+"\n"),s.push(c)}return t.config.debug&&log(n),s}}function detectParserForColumn(t,e,n,i){for(var s=parsers.length,r=!1,o=!1,a=!0;""==o&&a;)n++,e[n]?(r=getNodeFromRowAndCellIndex(e,n,i),o=trimAndGetNodeText(t.config,r),t.config.debug&&log("Checking if value was empty on row:"+n)):a=!1;for(var c=1;s>c;c++)if(parsers[c].is(o,t,r))return parsers[c];return parsers[0]}function getNodeFromRowAndCellIndex(t,e,n){return t[e].cells[n]}function trimAndGetNodeText(t,e){return $.trim(getElementText(t,e))}function getParserById(t){for(var e=parsers.length,n=0;e>n;n++)if(parsers[n].id.toLowerCase()==t.toLowerCase())return parsers[n];return!1}function buildCache(t){if(t.config.debug)var e=new Date;for(var n=t.tBodies[0]&&t.tBodies[0].rows.length||0,i=t.tBodies[0].rows[0]&&t.tBodies[0].rows[0].cells.length||0,s=t.config.parsers,r={row:[],normalized:[]},o=0;n>o;++o){var a=$(t.tBodies[0].rows[o]),c=[];if(a.hasClass(t.config.cssChildRow))r.row[r.row.length-1]=r.row[r.row.length-1].add(a);else{r.row.push(a);for(var l=0;i>l;++l)c.push(s[l].format(getElementText(t.config,a[0].cells[l]),t,a[0].cells[l]));c.push(r.normalized.length),r.normalized.push(c),c=null}}return t.config.debug&&benchmark("Building cache for "+n+" rows:",e),r}function getElementText(t,e){var n="";return e?(t.supportsTextContent||(t.supportsTextContent=e.textContent||!1),n="simple"==t.textExtraction?t.supportsTextContent?e.textContent:e.childNodes[0]&&e.childNodes[0].hasChildNodes()?e.childNodes[0].innerHTML:e.innerHTML:"function"==typeof t.textExtraction?t.textExtraction(e):$(e).text()):""}function appendToTable(t,e){if(t.config.debug)var n=new Date;for(var i=e,s=i.row,r=i.normalized,o=r.length,a=r[0].length-1,c=$(t.tBodies[0]),l=[],u=0;o>u;u++){var h=r[u][a];if(l.push(s[h]),!t.config.appender)for(var d=s[h].length,f=0;d>f;f++)c[0].appendChild(s[h][f])}t.config.appender&&t.config.appender(t,l),l=null,t.config.debug&&benchmark("Rebuilt table:",n),applyWidget(t),setTimeout(function(){$(t).trigger("sortEnd")},0)}function buildHeaders(t){if(t.config.debug)var e=new Date;var n=(!!$.metadata,computeTableHeaderCellIndexes(t));return $tableHeaders=$(t.config.selectorHeaders,t).each(function(e){if(this.column=n[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=formatSortingOrder(t.config.sortInitialOrder),this.count=this.order,(checkHeaderMetadata(this)||checkHeaderOptions(t,e))&&(this.sortDisabled=!0),checkHeaderOptionsSortingLocked(t,e)&&(this.order=this.lockedOrder=checkHeaderOptionsSortingLocked(t,e)),!this.sortDisabled){var i=$(this).addClass(t.config.cssHeader);t.config.onRenderHeader&&t.config.onRenderHeader.apply(i)}t.config.headerList[e]=this}),t.config.debug&&(benchmark("Built headers:",e),log($tableHeaders)),$tableHeaders}function computeTableHeaderCellIndexes(t){for(var e=[],n={},i=t.getElementsByTagName("THEAD")[0],s=i.getElementsByTagName("TR"),r=0;r<s.length;r++)for(var o=s[r].cells,a=0;a<o.length;a++){var c,l=o[a],u=l.parentNode.rowIndex,h=u+"-"+l.cellIndex,d=l.rowSpan||1,f=l.colSpan||1;"undefined"==typeof e[u]&&(e[u]=[]);for(var p=0;p<e[u].length+1;p++)if("undefined"==typeof e[u][p]){c=p;break}n[h]=c;for(var p=u;u+d>p;p++){"undefined"==typeof e[p]&&(e[p]=[]);for(var g=e[p],m=c;c+f>m;m++)g[m]="x"}}return n}function checkCellColSpan(t,e,n){for(var i=[],s=t.tHead.rows,r=s[n].cells,o=0;o<r.length;o++){var a=r[o];a.colSpan>1?i=i.concat(checkCellColSpan(t,headerArr,n++)):(1==t.tHead.length||a.rowSpan>1||!s[n+1])&&i.push(a)}return i}function checkHeaderMetadata(t){return!(!$.metadata||$(t).metadata().sorter!==!1)}function checkHeaderOptions(t,e){return!(!t.config.headers[e]||t.config.headers[e].sorter!==!1)}function checkHeaderOptionsSortingLocked(t,e){return t.config.headers[e]&&t.config.headers[e].lockedOrder?t.config.headers[e].lockedOrder:!1}function applyWidget(t){for(var e=t.config.widgets,n=e.length,i=0;n>i;i++)getWidgetById(e[i]).format(t)}function getWidgetById(t){for(var e=widgets.length,n=0;e>n;n++)if(widgets[n].id.toLowerCase()==t.toLowerCase())return widgets[n]}function formatSortingOrder(t){return"Number"!=typeof t?"desc"==t.toLowerCase()?1:0:1==t?1:0}function isValueInArray(t,e){for(var n=e.length,i=0;n>i;i++)if(e[i][0]==t)return!0;return!1}function setHeadersCss(t,e,n,i){e.removeClass(i[0]).removeClass(i[1]);var s=[];e.each(function(){this.sortDisabled||(s[this.column]=$(this))});for(var r=n.length,o=0;r>o;o++)s[n[o][0]].addClass(i[n[o][1]])}function fixColumnWidth(t){var e=t.config;if(e.widthFixed){var n=$("<colgroup>");$("tr:first td",t.tBodies[0]).each(function(){n.append($("<col>").css("width",$(this).width()))}),$(t).prepend(n)}}function updateHeaderSortCount(t,e){for(var n=t.config,i=e.length,s=0;i>s;s++){var r=e[s],o=n.headerList[r[0]];o.count=r[1],o.count++}}function multisort(table,sortList,cache){if(table.config.debug)var sortTime=new Date;for(var dynamicExp="var sortWrapper = function(a,b) {",l=sortList.length,i=0;l>i;i++){var c=sortList[i][0],order=sortList[i][1],s="text"==table.config.parsers[c].type?0==order?makeSortFunction("text","asc",c):makeSortFunction("text","desc",c):0==order?makeSortFunction("numeric","asc",c):makeSortFunction("numeric","desc",c),e="e"+i;dynamicExp+="var "+e+" = "+s,dynamicExp+="if("+e+") { return "+e+"; } ",dynamicExp+="else { "}var orgOrderCol=cache.normalized[0].length-1;dynamicExp+="return a["+orgOrderCol+"]-b["+orgOrderCol+"];";for(var i=0;l>i;i++)dynamicExp+="}; ";return dynamicExp+="return 0; ",dynamicExp+="}; ",table.config.debug&&benchmark("Evaling expression:"+dynamicExp,new Date),eval(dynamicExp),cache.normalized.sort(sortWrapper),table.config.debug&&benchmark("Sorting on "+sortList.toString()+" and dir "+order+" time:",sortTime),cache}function makeSortFunction(t,e,n){var i="a["+n+"]",s="b["+n+"]";return"text"==t&&"asc"==e?"("+i+" == "+s+" ? 0 : ("+i+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : ("+i+" < "+s+") ? -1 : 1 )));":"text"==t&&"desc"==e?"("+i+" == "+s+" ? 0 : ("+i+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : ("+s+" < "+i+") ? -1 : 1 )));":"numeric"==t&&"asc"==e?"("+i+" === null && "+s+" === null) ? 0 :("+i+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : "+i+" - "+s+"));":"numeric"==t&&"desc"==e?"("+i+" === null && "+s+" === null) ? 0 :("+i+" === null ? Number.POSITIVE_INFINITY : ("+s+" === null ? Number.NEGATIVE_INFINITY : "+s+" - "+i+"));":void 0}function makeSortText(t){return"((a["+t+"] < b["+t+"]) ? -1 : ((a["+t+"] > b["+t+"]) ? 1 : 0));"}function makeSortTextDesc(t){return"((b["+t+"] < a["+t+"]) ? -1 : ((b["+t+"] > a["+t+"]) ? 1 : 0));"}function makeSortNumeric(t){return"a["+t+"]-b["+t+"];"}function makeSortNumericDesc(t){return"b["+t+"]-a["+t+"];"}function sortText(t,e){return table.config.sortLocaleCompare?t.localeCompare(e):e>t?-1:t>e?1:0}function sortTextDesc(t,e){return table.config.sortLocaleCompare?e.localeCompare(t):t>e?-1:e>t?1:0}function sortNumeric(t,e){return t-e}function sortNumericDesc(t,e){return e-t}function getCachedSortType(t,e){return t[e].type}var parsers=[],widgets=[];this.defaults={cssHeader:"header",cssAsc:"headerSortUp",cssDesc:"headerSortDown",cssChildRow:"expand-child",sortInitialOrder:"asc",sortMultiSortKey:"shiftKey",sortForce:null,sortAppend:null,sortLocaleCompare:!0,textExtraction:"simple",parsers:{},widgets:[],widgetZebra:{css:["even","odd"]},headers:{},widthFixed:!1,cancelSelection:!0,sortList:[],headerList:[],dateFormat:"us",decimal:"/.|,/g",onRenderHeader:null,selectorHeaders:"thead th",debug:!1},this.benchmark=benchmark,this.construct=function(t){return this.each(function(){if(this.tHead&&this.tBodies){var e,n,i,s;this.config={},s=$.extend(this.config,$.tablesorter.defaults,t),e=$(this),$.data(this,"tablesorter",s),n=buildHeaders(this),this.config.parsers=buildParserCache(this,n),i=buildCache(this);var r=[s.cssDesc,s.cssAsc];fixColumnWidth(this),n.click(function(t){var o=e[0].tBodies[0]&&e[0].tBodies[0].rows.length||0;if(!this.sortDisabled&&o>0){e.trigger("sortStart");var a=($(this),this.column);if(this.order=this.count++%2,this.lockedOrder&&(this.order=this.lockedOrder),t[s.sortMultiSortKey])if(isValueInArray(a,s.sortList))for(var c=0;c<s.sortList.length;c++){var l=s.sortList[c],u=s.headerList[l[0]];l[0]==a&&(u.count=l[1],u.count++,l[1]=u.count%2)}else s.sortList.push([a,this.order]);else{if(s.sortList=[],null!=s.sortForce)for(var h=s.sortForce,c=0;c<h.length;c++)h[c][0]!=a&&s.sortList.push(h[c]);s.sortList.push([a,this.order])}return setTimeout(function(){setHeadersCss(e[0],n,s.sortList,r),appendToTable(e[0],multisort(e[0],s.sortList,i))},1),!1}}).mousedown(function(){return s.cancelSelection?(this.onselectstart=function(){return!1},!1):void 0}),e.bind("update",function(){var t=this;setTimeout(function(){t.config.parsers=buildParserCache(t,n),i=buildCache(t)},1)}).bind("updateCell",function(t,e){var n=this.config,s=[e.parentNode.rowIndex-1,e.cellIndex];i.normalized[s[0]][s[1]]=n.parsers[s[1]].format(getElementText(n,e),e)}).bind("sorton",function(t,e){$(this).trigger("sortStart"),s.sortList=e;var o=s.sortList;updateHeaderSortCount(this,o),setHeadersCss(this,n,o,r),appendToTable(this,multisort(this,o,i))}).bind("appendCache",function(){appendToTable(this,i)}).bind("applyWidgetId",function(t,e){getWidgetById(e).format(this)}).bind("applyWidgets",function(){applyWidget(this)}),$.metadata&&$(this).metadata()&&$(this).metadata().sortlist&&(s.sortList=$(this).metadata().sortlist),s.sortList.length>0&&e.trigger("sorton",[s.sortList]),applyWidget(this)}})},this.addParser=function(t){for(var e=parsers.length,n=!0,i=0;e>i;i++)parsers[i].id.toLowerCase()==t.id.toLowerCase()&&(n=!1);n&&parsers.push(t)},this.addWidget=function(t){widgets.push(t)},this.formatFloat=function(t){var e=parseFloat(t);return isNaN(e)?0:e},this.formatInt=function(t){var e=parseInt(t);return isNaN(e)?0:e},this.isDigit=function(t){return/^[-+]?\d*$/.test($.trim(t.replace(/[,.']/g,"")))},this.clearTableBody=function(t){function e(){for(;this.firstChild;)this.removeChild(this.firstChild)}$.browser.msie?e.apply(t.tBodies[0]):t.tBodies[0].innerHTML=""}}}),$.fn.extend({tablesorter:$.tablesorter.construct});var ts=$.tablesorter;ts.addParser({id:"text",is:function(){return!0},format:function(t){return $.trim(t.toLocaleLowerCase())},type:"text"}),ts.addParser({id:"digit",is:function(t,e){var n=e.config;return $.tablesorter.isDigit(t,n)},format:function(t){return $.tablesorter.formatFloat(t)},type:"numeric"}),ts.addParser({id:"currency",is:function(t){return/^[$?.]/.test(t)},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/[$]/g),""))},type:"numeric"}),ts.addParser({id:"ipAddress",is:function(t){return/^\d{2,3}[\.]\d{2,3}[\.]\d{2,3}[\.]\d{2,3}$/.test(t)},format:function(t){for(var e=t.split("."),n="",i=e.length,s=0;i>s;s++){var r=e[s];n+=2==r.length?"0"+r:r}return $.tablesorter.formatFloat(n)},type:"numeric"}),ts.addParser({id:"url",is:function(t){return/^(https?|ftp|file):\/\/$/.test(t)},format:function(t){return jQuery.trim(t.replace(new RegExp(/(https?|ftp|file):\/\//),""))},type:"text"}),ts.addParser({id:"isoDate",is:function(t){return/^\d{4}[\/-]\d{1,2}[\/-]\d{1,2}$/.test(t)},format:function(t){return $.tablesorter.formatFloat(""!=t?new Date(t.replace(new RegExp(/-/g),"/")).getTime():"0")},type:"numeric"}),ts.addParser({id:"percent",is:function(t){return/\%$/.test($.trim(t))},format:function(t){return $.tablesorter.formatFloat(t.replace(new RegExp(/%/g),""))},type:"numeric"}),ts.addParser({id:"usLongDate",is:function(t){return t.match(new RegExp(/^[A-Za-z]{3,10}\.? [0-9]{1,2}, ([0-9]{4}|'?[0-9]{2}) (([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(AM|PM)))$/))},format:function(t){return $.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"shortDate",is:function(t){return/\d{1,2}[\/\-]\d{1,2}[\/\-]\d{2,4}/.test(t)},format:function(t,e){var n=e.config;return t=t.replace(/\-/g,"/"),"us"==n.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$1/$2"):"uk"==n.dateFormat?t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{4})/,"$3/$2/$1"):"dd/mm/yy"!=n.dateFormat&&"dd-mm-yy"!=n.dateFormat||(t=t.replace(/(\d{1,2})[\/\-](\d{1,2})[\/\-](\d{2})/,"$1/$2/$3")),$.tablesorter.formatFloat(new Date(t).getTime())},type:"numeric"}),ts.addParser({id:"time",is:function(t){return/^(([0-2]?[0-9]:[0-5][0-9])|([0-1]?[0-9]:[0-5][0-9]\s(am|pm)))$/.test(t)},format:function(t){return $.tablesorter.formatFloat(new Date("2000/01/01 "+t).getTime())},type:"numeric"}),ts.addParser({id:"metadata",is:function(){return!1},format:function(t,e,n){var i=e.config,s=i.parserMetadataName?i.parserMetadataName:"sortValue";return $(n).metadata()[s]},type:"numeric"}),ts.addWidget({id:"zebra",format:function(t){if(t.config.debug)var e=new Date;var n,i,s=-1;$("tr:visible",t.tBodies[0]).each(function(){n=$(this),n.hasClass(t.config.cssChildRow)||s++,i=s%2==0,n.removeClass(t.config.widgetZebra.css[i?0:1]).addClass(t.config.widgetZebra.css[i?1:0])}),t.config.debug&&$.tablesorter.benchmark("Applying Zebra widget",e)}})}(jQuery),function(t){var e,n={className:"autosizejs",append:"",callback:!1},i="hidden",s="border-box",r="lineHeight",o='<textarea tabindex="-1" style="position:absolute; top:-9999px; left:-9999px; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',a=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],c="oninput",l="onpropertychange",u=t(o).data("autosize",!0)[0];
u.style.lineHeight="99px","99px"===t(u).css(r)&&a.push(r),u.style.lineHeight="",t.fn.autosize=function(r){return r=t.extend({},n,r||{}),u.parentNode!==document.body&&t(document.body).append(u),this.each(function(){function n(){e=f,u.className=r.className,t.each(a,function(t,e){u.style[e]=p.css(e)})}function o(){var t,s,o;e!==f&&n(),h||(h=!0,u.value=f.value+r.append,u.style.overflowY=f.style.overflowY,o=parseInt(f.style.height,10),u.style.width=p.width()+"px",u.scrollTop=0,u.scrollTop=9e4,t=u.scrollTop,t>m?(t=m,s="scroll"):g>t&&(t=g),t+=v,f.style.overflowY=s||i,o!==t&&(f.style.height=t+"px",w&&r.callback.call(f)),setTimeout(function(){h=!1},1))}var h,d,f=this,p=t(f),g=p.height(),m=parseInt(p.css("maxHeight"),10),v=0,b=f.value,w=t.isFunction(r.callback);p.data("autosize")||(p.css("box-sizing")!==s&&p.css("-moz-box-sizing")!==s&&p.css("-webkit-box-sizing")!==s||(v=p.outerHeight()-p.height()),d="none",p.css({overflow:i,overflowY:i,wordWrap:"break-word",resize:d}).data("autosize",!0),m=m&&m>0?m:9e4,l in f?c in f?f[c]=f.onkeyup=o:f[l]=o:(f[c]=o,f.value="",f.value=b),t(window).resize(o),p.bind("autosize",o),o())})}}(window.jQuery||window.Zepto),jQuery.extend({highlight:function(t,e,n,i){if(3===t.nodeType){var s=t.data.match(e);if(s){var r=document.createElement(n||"span");r.className=i||"highlight";var o=t.splitText(s.index);o.splitText(s[0].length);var a=o.cloneNode(!0);return r.appendChild(a),o.parentNode.replaceChild(r,o),1}}else if(1===t.nodeType&&t.childNodes&&!/(script|style)/i.test(t.tagName)&&(t.tagName!==n.toUpperCase()||t.className!==i))for(var c=0;c<t.childNodes.length;c++)c+=jQuery.highlight(t.childNodes[c],e,n,i);return 0}}),jQuery.fn.unhighlight=function(t){var e={className:"highlight",element:"span"};return jQuery.extend(e,t),this.find(e.element+"."+e.className).each(function(){var t=this.parentNode;t.replaceChild(this.firstChild,this),t.normalize()}).end()},jQuery.fn.highlight=function(t,e){var n={className:"highlight",element:"span",caseSensitive:!1,wordsOnly:!1};if(jQuery.extend(n,e),t.constructor===String&&(t=[t]),t=jQuery.grep(t,function(t){return""!=t}),t=jQuery.map(t,function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}),0==t.length)return this;var i=n.caseSensitive?"":"i",s="("+t.join("|")+")";n.wordsOnly&&(s="\\b"+s+"\\b");var r=new RegExp(s,i);return this.each(function(){jQuery.highlight(this,r,n.element,n.className)})},!function(t){function e(t,e,s){var r=t[0];if(o=/er/.test(s)?m:/bl/.test(s)?p:d,active=s==v?{checked:r[d],disabled:r[p],indeterminate:"true"==t.attr(m)||"false"==t.attr(g)}:r[o],/^(ch|di|in)/.test(s)&&!active)n(t,o);else if(/^(un|en|de)/.test(s)&&active)i(t,o);else if(s==v)for(var o in active)active[o]?n(t,o,!0):i(t,o,!0);else e&&"toggle"!=s||(e||t[S]("ifClicked"),active?r[b]!==h&&i(t,o):n(t,o))}function n(e,n,s){var u=e[0],v=e.parent(),w=n==d,y=n==m,S=y?g:w?f:"enabled",k=r(u,S+o(u[b])),T=r(u,n+o(u[b]));if(u[n]!==!0){if(!s&&n==d&&u[b]==h&&u.name){var E=e.closest("form"),I='input[name="'+u.name+'"]';I=E.length?E.find(I):t(I),I.each(function(){this!==u&&t.data(this,c)&&i(t(this),n)})}y?(u[n]=!0,u[d]&&i(e,d,"force")):(s||(u[n]=!0),w&&u[m]&&i(e,m,!1)),a(e,w,n,s)}u[p]&&r(u,j,!0)&&v.find("."+l).css(j,"default"),v[C](T||r(u,n)),v[x](k||r(u,S)||"")}function i(t,e,n){var i=t[0],s=t.parent(),c=e==d,u=e==m,h=u?g:c?f:"enabled",v=r(i,h+o(i[b])),w=r(i,e+o(i[b]));i[e]!==!1&&((u||!n||"force"==n)&&(i[e]=!1),a(t,c,h,n)),!i[p]&&r(i,j,!0)&&s.find("."+l).css(j,"pointer"),s[x](w||r(i,e)||""),s[C](v||r(i,h))}function s(e,n){if(t.data(e,c)){var i=t(e);i.parent().html(i.attr("style",t.data(e,c).s||"")[S](n||"")),i.off(".i").unwrap(),t(k+'[for="'+e.id+'"]').add(i.closest(k)).off(".i")}}function r(e,n,i){return t.data(e,c)?t.data(e,c).o[n+(i?"":"Class")]:void 0}function o(t){return t.charAt(0).toUpperCase()+t.slice(1)}function a(t,e,n,i){i||(e&&t[S]("ifToggled"),t[S]("ifChanged")[S]("if"+o(n)))}var c="iCheck",l=c+"-helper",u="checkbox",h="radio",d="checked",f="un"+d,p="disabled",g="determinate",m="in"+g,v="update",b="type",w="click",y="touchbegin.i touchend.i",C="addClass",x="removeClass",S="trigger",k="label",j="cursor",T=/ipad|iphone|ipod|android|blackberry|windows phone|opera mini|silk/i.test(navigator.userAgent);t.fn[c]=function(r,o){var a=":"+u+", :"+h,f=t(),g=function(e){e.each(function(){var e=t(this);f=f.add(e.is(a)?e:e.find(a))})};if(/^(check|uncheck|toggle|indeterminate|determinate|disable|enable|update|destroy)$/i.test(r))return r=r.toLowerCase(),g(this),f.each(function(){"destroy"==r?s(this,"ifDestroyed"):e(t(this),!0,r),t.isFunction(o)&&o()});if("object"!=typeof r&&r)return this;var j=t.extend({checkboxClass:"icheckbox_minimal-blue",radioClass:"iradio_minimal-blue",checkedClass:d,disabledClass:p,indeterminateClass:m,labelHover:!0},r),E=j.handle,I=j.hoverClass||"hover",P=j.focusClass||"focus",A=j.activeClass||"active",N=!!j.labelHover,D=j.labelHoverClass||"hover",O=0|(""+j.increaseArea).replace("%","");return(E==u||E==h)&&(a=":"+E),-50>O&&(O=-50),g(this),f.each(function(){s(this);var r=t(this),o=this,a=o.id,f=-O+"%",g=100+2*O+"%",m={position:"absolute",top:f,left:f,display:"block",width:g,height:g,margin:0,padding:0,background:"#fff",border:0,opacity:0},E=T?{position:"absolute",visibility:"hidden"}:O?m:{position:"absolute",opacity:0},$=o[b]==u?j.checkboxClass||"i"+u:j.radioClass||"i"+h,H=t(k+'[for="'+a+'"]').add(r.closest(k)),F=r.wrap('<div class="'+$+'"/>')[S]("ifCreated").parent().append(j.insert),M=t('<ins class="'+l+'"/>').css(m).appendTo(F);r.data(c,{o:j,s:r.attr("style")}).css(E),!!j.inheritClass&&F[C](o.className),!!j.inheritID&&a&&F.attr("id",c+"-"+a),"static"==F.css("position")&&F.css("position","relative"),e(r,!0,v),H.length&&H.on(w+".i mouseenter.i mouseleave.i "+y,function(n){var i=n[b],s=t(this);if(!o[p]){if(i==w?e(r,!1,!0):N&&(/ve|nd/.test(i)?(F[x](I),s[x](D)):(F[C](I),s[C](D))),!T)return!1;n.stopPropagation()}}),r.on(w+".i focus.i blur.i keyup.i keydown.i keypress.i",function(t){var e=t[b],s=t.keyCode;return e==w?!1:"keydown"==e&&32==s?(o[b]==h&&o[d]||(o[d]?i(r,d):n(r,d)),!1):void("keyup"==e&&o[b]==h?!o[d]&&n(r,d):/us|ur/.test(e)&&F["blur"==e?x:C](P))}),M.on(w+" mousedown mouseup mouseover mouseout "+y,function(t){var n=t[b],i=/wn|up/.test(n)?A:I;if(!o[p]){if(n==w?e(r,!1,!0):(/wn|er|in/.test(n)?F[C](i):F[x](i+" "+A),H.length&&N&&i==I&&H[/ut|nd/.test(n)?x:C](D)),!T)return!1;t.stopPropagation()}})})}}(jQuery),!function(t){"use strict";t.paletteColorPicker=function(e,n){var i="palette-color-picker",s=t(e),r=this,o=s.val(),a=s.attr("name"),c=t("<div>").addClass(i+"-button").attr("data-target",a),l=t("<div>").addClass(i+"-bubble"),u={custom_class:null,colors:null,position:"upside",insert:"before",clear_btn:"first",timeout:2e3},h="ontouchstart"in document.documentElement?"touchstart":"click";r.init=function(){r.settings=t.extend({},u,n),null===r.settings.colors&&(r.settings.colors=s.data("palette")),"string"==typeof r.settings.colors[0]&&(r.settings.colors=t.map(r.settings.colors,function(t){var e={};return e[t]=t,e})),r.settings.insert=r.settings.insert.charAt(0).toUpperCase()+r.settings.insert.slice(1),r.settings.custom_class&&l.addClass(r.settings.custom_class),t.each(r.settings.colors,function(e,n){var i=Object.keys(n)[0],s=n[i],r=t("<span>").addClass("swatch").attr({title:i,"data-color":s,"data-name":i}).css("background-color",s);i===o&&(r.addClass("active"),c.css("background",s)),r.appendTo(l)});var e=t("<span>").addClass("swatch clear").attr("title","Clear selection");"last"===r.settings.clear_btn?e.addClass("last").appendTo(l):e.prependTo(l),r.destroy=function(){c.remove(),t.removeData(s[0])},c.append(l).on(h,function(e){e.preventDefault(),e.stopPropagation();var n=t(this);n.toggleClass("active").find("."+i+"-bubble").fadeToggle(),n.hasClass("active")&&(clearTimeout(r.timer),r.timer=setTimeout(function(){n.trigger("pcp.fadeout")},r.settings.timeout))}).on("pcp.fadeout",function(){t(this).removeClass("active").find("."+i+"-bubble").fadeOut()}).on("mouseenter","."+i+"-bubble",function(){clearTimeout(r.timer)}).on("mouseleave","."+i+"-bubble",function(){r.timer=setTimeout(function(){c.trigger("pcp.fadeout")},r.settings.timeout)}).on(h,"span.swatch",function(e){e.preventDefault(),e.stopPropagation();var n=t(this).attr("data-color"),s=t(this).attr("data-name"),r=t("."+i+'-button[data-target="'+t(this).closest("."+i+"-button").attr("data-target")+'"]'),o=t(this).closest("."+i+"-bubble");o.find(".active").removeClass("active"),t(e.target).is(".clear")?(r.removeAttr("style"),n=""):(t(this).addClass("active"),r.css("background",n)),t('[name="'+r.attr("data-target")+'"]').val(s)})["insert"+r.settings.insert](s),("downside"===r.settings.position||s.offset().top+20<l.outerHeight())&&l.addClass("downside")},r.init()},t.fn.paletteColorPicker=function(e){return this.each(function(){"undefined"==typeof t(this).data("paletteColorPickerPlugin")&&t(this).data("paletteColorPickerPlugin",new t.paletteColorPicker(this,e))})}}(jQuery);

// fn
window.Elise=window.$e={VERSION:"2.3.0-beta.4",_ISO88591:!0,_fn:{instance:Date.now(),tip:{count:0},alert:{count:0},hope:null,counter:{count:0}}},function(e,t,n){var i=n.fn.remove,o=new n.Event("remove"),a=new n.Event("afterRemove");n.fn.remove=function(){return n(this).trigger(o),i.apply(this,arguments,n(this).trigger(a))}}(window,void 0,jQuery),jQuery(document).ready(function(e){e(".alert").alert(),e(".dropdown-toggle").dropdown(),e("body").on("touchstart.dropdown",".dropdown-menu",function(e){e.stopPropagation()}),e(".dropdown-menu > li").on("click",function(e){e.stopPropagation()}),e(".boton.boton-toggle, .btn.boton-toggle").on("click",function(){e(this).toggleClass("active")}),e("ul.nav-stacked li").on("click",function(){var t=e(this),n=t.find("a"),i=t.parent().find("li");return i.removeClass("active"),t.addClass("active"),"#"!==n.attr("href")}),e(".pagination").each(function(){var t=e(this),n=t.find("li:first").data("pagid","first"),i=t.find("li:last").data("pagid","last");t.find("li").not(":first, :last").on("click",function(){var t=e(this),n=t.find("a"),i=t.parent().find("li"),o=i.slice(1,t.parent().find("li").length-1);return o.removeClass("active"),i.removeClass("disabled"),t.addClass("active"),"first"===t.prev().data("pagid")?t.prev().addClass("disabled"):"last"===t.next().data("pagid")&&t.next().addClass("disabled"),"#"!==n.attr("href")}),t.find("li:first").on("click",function(){var t=e(this);return n.hasClass("disabled")||t.parent().find("li.active").prev().click(),"#"!==t.find("a").attr("href")}),t.find("li:last").on("click",function(){var t=e(this);return i.hasClass("disabled")||t.parent().find("li.active").next().click(),"#"!==t.find("a").attr("href")})}),jQuery.fn.tbst=jQuery.fn.tablesorter,jQuery.fn.tablesorter=function(t){e(this).each(function(){e(this).find("tbody tr").length>=1&&e(this).tbst(t)})},jQuery.fn.check=function(t){t?e(this).iCheck.apply(this,arguments):e(this).iCheck().on("ifClicked",function(){e(this).trigger("click")}).on("ifChecked",function(){e(this).trigger("change")}).on("ifUnchecked",function(){e(this).trigger("change")})},e("input[type=checkbox], input[type=radio]").each(function(){"yes"===e(this).data("visual")&&e(this).check()}),function(){var t,n,i,o,a,s=_.map("text,password,color,date,datetime,datetime-local,email,month,number,range,search,tel,time,url,week".split(","),function(e){return"input[type="+e+"]"}).join(",");e(s).each(function(){o=e(this),a=o.data("val"),void 0!==a&&""!==a&&(a&&a.indexOf("account")>=0?(t=a.replace(/(account|\(|\)|\s)/gi,"").split(","),n=t[0]?t[0]:Elise.val._accountInit,i=t[1]?t[1]:Elise.val._accountEnds,Elise.val.onInput(o,function(e){return Elise.val.account(e,n,i)})):Elise.val[a]&&Elise.val.onInput(o,Elise.val[a]))})}(),e.ajaxSetup({timeout:15e3,statusCode:{500:function(){alert("Lo sentimos, ha tenido lugar un error inesperado en el servidor. Intente realizar el procedimiento de nuevo o refrescar la p&aacute;gina por favor.")}},error:function(e){e.status>500&&e.status<600&&alert("Ha ocurrido un error en el servidor, sentimos los inconvenientes. Intenta de nuevo o refresca la p&aacute;gina por favor.")}}),e.expr[":"].contains=e.expr.createPseudo(function(t){return function(n){return e(n).text().toUpperCase().indexOf(t.toUpperCase())>=0}})}),Elise.isMobile=function(){var e=!1;return function(t){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0)}(navigator.userAgent||navigator.vendor||window.opera),e}(),Elise.isObsolete=!("querySelector"in document&&"localStorage"in window&&"addEventListener"in window),Elise.val={keyup:function(e,t){return e=$(e),0===e.length?console.error("Se requiere de elementos <input> para validar."):"function"!=typeof t?console.error("Se requiere de una funcion para validar."):void e.each(function(){var e=$(this),n=function(){var n=t(e.val());e.removeClass(n?"invalid":"valid").addClass(n?"valid":"invalid")};e.on("focus",function(){var t=e.data("valFirstFocused");void 0===t?e.data("valFirstFocused",1):1===t&&(e.on("keyup",n),e.data("valFirstFocused",2))}).on("change",n)})},_keyup:function(){return this._keyup.apply(this,arguments)},onInput:function(e,t){return e=$(e),0===e.length?console.error("Se requiere de elementos <input> para validar."):"function"!=typeof t?console.error("Se requiere de una funcion para validar."):void e.each(function(){var e=$(this),n=function(){var n=t(e.val());e.removeClass("invalid valid").addClass(n?"valid":"invalid")},i=function(){var i=t(e.val());i||(e.removeClass("valid").addClass("invalid"),e.off("input",n).on("input",n))},o=function(){var t=e.data("valFirstFocused");void 0===t?(e.data("valFirstFocused",1),e.on("input",i)):1===t&&(e.data("valFirstFocused",2),e.off("input",i),e.off("input",n).on("input",n))};e.on("focus",o).on("change",n),i()})},number:function(e){return String(e).indexOf("e")>-1?!1:!jQuery.isArray(e)&&e-parseFloat(e)+1>=0},integer:function(e){return Elise.val.number(e)?(e=Number(e),Math.floor(e)===e):!1},natural:function(e){return Elise.val.number(e)?(e=Number(e),Math.floor(e)===e&&e>=0):!1},account:function(e,t,n){var i,o={};return"number"==typeof t&&(o.starts=t),"number"==typeof n&&(o.ends=n),o=$.extend(o,t),void 0===o.starts||Elise.val.integer(o.starts)?void 0===o.ends||Elise.val.integer(o.ends)?(o.ends=o.ends?o.ends:32,o.pass?(o.starts=o.starts?o.starts:8,i=new RegExp("^[a-zA-Z0-9#@$%&*-_]{"+o.starts+","+o.ends+"}$")):(o.starts=o.starts?o.starts:4,i=new RegExp("^[a-zA-Z0-9]{"+o.starts+","+o.ends+"}$")),i.test(e)):console.error("El tercer parametro debe ser un entero positivo."):console.error("El segundo parametro debe ser un entero positivo.")},email:function(e){return/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(e)},content:function(e){var t="";Elise._ISO88591&&(t=utf8_decode(t)),e=String(e).replace(/[\x20-\x7E]/g,"").toLowerCase();for(var n=0;n<e.length;n+=1)if(-1===t.indexOf(e.charAt(n)))return!1;return!0},text:function(e){e=String(e).toLowerCase();var t="-_:;., abcdefghijklmnopqrstuvwxyz0123456789";Elise._ISO88591&&(t=utf8_decode(t));for(var n=0;n<e.length;n+=1)if(-1===t.indexOf(e.charAt(n)))return!1;return!0},word:function(e){e=String(e).toLowerCase();var t="abcdefghijklmnopqrstuvwxyz";Elise._ISO88591&&(t=utf8_decode(t));for(var n=0;n<e.length;n+=1)if(-1===t.indexOf(e.charAt(n)))return!1;return!0},words:function(e){e=String(e).toLowerCase();var t=":;., abcdefghijklmnopqrstuvwxyz";Elise._ISO88591&&(t=utf8_decode(t));for(var n=0;n<e.length;n+=1)if(-1==t.indexOf(e.charAt(n).toLowerCase()))return!1;return!0},filename:function(e){var t=Elise._ISO88591?utf8_decode:function(e){return e},e=String(e).toLowerCase();return e=e.replace(new RegExp(t(""),"g"),"a"),e=e.replace(new RegExp(t(""),"g"),"e"),e=e.replace(new RegExp(t(""),"g"),"i"),e=e.replace(new RegExp(t(""),"g"),"o"),e=e.replace(new RegExp(t(""),"g"),"u"),e=e.replace(new RegExp(t(""),"g"),"n"),e=e.replace(/\s/gi,"-"),e=e.replace(/[^a-z0-9_-]/gi,"")}},Elise.win={fitIframe:function(e,t,n,i){var o={};if(o.scroll=$(window.top).scrollTop(),t&&"self"!==t?"top"===t?t=window.parent:"top2"===t&&(t=window.parent.parent):t=window,"string"==typeof e)e=t.document.getElementById(e);else if("object"!=typeof e)return console.error("Se necesita el elemento del iframe o su identificador.");return e?(n=Elise.val.number(n)?n:300,i=Elise.val.number(i)?i:0,$(e).height("auto"),o.height=Elise.win.contentHeight(e),o.res=o.height>n?o.height:n,$(e).add($(e).parent(".centro")).height(o.res+i),$(window.top).scrollTop(o.scroll),o.res+i):-1},contentHeight:function(e){var t=0;return e.Document&&e.Document.body.scrollWidth?t=e.contentWindow.document.body.scrollHeight:e.contentDocument&&e.contentDocument.body.scrollWidth?t=e.contentDocument.body.scrollHeight:e.contentDocument&&e.contentDocument.body.offsetWidth&&(t=e.contentDocument.body.offsetWidthHeight),t},dims:function(e,t,n,i){var o={width:0,height:0};return"undefined"!=typeof window.top.innerWidth?(o.width=window.top.innerWidth,o.height=window.top.innerHeight):"undefined"!=typeof window.top.document.documentElement&&"undefined"!=typeof window.top.document.documentElement.clientWidth&&0!=window.top.document.documentElement.clientWidth?(o.width=window.top.document.documentElement.clientWidth,o.height=window.top.document.documentElement.clientHeight):(o.width=window.top.document.getElementsByTagName("body")[0].clientWidth,o.height=window.top.document.getElementsByTagName("body")[0].clientHeight),o.width=e&&o.width<e?e:o.width,o.width=n&&o.width>n?n:o.width,o.height=t&&o.height<t?t:o.height,o.height=i&&o.height>i?i:o.height,o},height:function(e){return e=e?e.document:window.document,Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))},scrollTo:function(e,t){e=$(e).first();var n=e.offset().top,i=Elise.win.dims().height/2;return n=0>n-i?0:n-i,$("html, body").stop().animate({scrollTop:n},t||500),e}},Elise.popup=function(e){var t="";return e=e?e:{},e.name=e.name?e.name:"_blank",e.width=e.width?e.width:900,e.height=e.height?e.height:500,"normal"===e.position?e.left=e.top=0:"top"===e.position?(e.left=screen.availWidth/2-e.width/2,e.top=0):"full"===e.position?(e.left=e.top=0,e.width=screen.availWidth,e.height=screen.availHeight):(e.left=screen.availWidth/2-e.width/2,e.top=screen.availHeight/2-e.height/2),t+="width="+e.width,t+=",height="+e.height,t+=",left="+e.left,t+=",top="+e.top,t+=",scrollbars=yes",window.open(e.url,e.name,t)},function(e,t,n){var i={content:null,attribute:"title",maxWidth:300,edgeOffset:3,activation:"hover",keepAlive:null,defaultPosition:"bottom",delay:200,onCreate:null,onShow:null,onHide:null,enter:null,exit:null},o=function(e){var t;this.$el=e.$el,this.opts=n.extend({},i,e.config),this.opts.content||(this.$el.attr(this.opts.attribute)?(this.opts.content=this.$el.attr(this.opts.attribute),this.$el.removeAttr(this.opts.attribute)):this.$el.data("idtooltip")&&(t=n("#"+this.$el.data("idtooltip")),t.attr("hidden",""),this.opts.content=t.html(),this.opts.keepAlive=null===this.opts.keepAlive?!0:this.opts.keepAlive)),this.opts.content&&this._build()};o.prototype._build=function(){var e=this;return this._timeout=null,this._over=!1,this._id="etip-"+ ++Elise._fn.tip.count,this._shown=!1,this.$tip_holder=n('<div id="'+this._id+'" class="tip_holder hidden">'),this.$tip_content=n('<div class="tip_content">'),this.$tip_arrow=n('<div class="tip_arrow"><div class="tip_arrow_inner">'),this.$tip_holder.css("max-width",this.opts.maxWidth),n("body").append(this.$tip_holder.html(this.$tip_content).prepend(this.$tip_arrow)),"focus"===this.opts.activation?this.$el.on("focus",this.show.bind(this)).on("blur",this.hide.bind(this)):"click"===this.opts.activation?(this.$el.on("click",function(t){t.preventDefault(),e._over?(e._over=!1,e.hide()):(e._over=!0,e.show())}),this.$tip_holder.on("mouseleave",this.hide.bind(this))):(this.$el.on("mouseenter",function(){e._over=!0,e.show()}),this.$tip_holder.on("mouseenter",function(){e._over=!0}),this.$el.on("mouseleave",function(){e._over=!1,e.opts.keepAlive?setTimeout(function(){e._over||e.hide()},250):e.hide()}),this.$tip_holder.on("mouseleave",function(){e._over=!1,e.opts.keepAlive?setTimeout(function(){e._over||e.hide()},250):e.hide()})),this.opts.onCreate&&this.opts.onCreate.call(this),this},o.prototype.show=function(){if(!this._shown){this._shown=!0;var t=this;this.$tip_content.html(this.opts.content),this.$tip_holder.css("margin",0),this.$tip_arrow.removeAttr("style");var i,o,a=parseInt(this.$el.offset().top),s=parseInt(this.$el.offset().left),r=parseInt(this.$el.outerWidth()),l=parseInt(this.$el.outerHeight()),c=this.$tip_holder.outerWidth(),d=this.$tip_holder.outerHeight(),u=Math.round((r-c)/2),h=Math.round((l-d)/2),f=Math.round(s+u),p=Math.round(a+l+this.opts.edgeOffset),g=Math.round(c-12)/2;switch(this.opts.defaultPosition){case"top":i="_top";break;case"left":i="_left";break;case"right":i="_right";break;default:i="_bottom"}var m=u+s<parseInt(n(e).scrollLeft()),v=c+s>parseInt(n(e).width());m&&0>u||"_right"==i&&!v||"_left"==i&&s<c+this.opts.edgeOffset+5?(i="_right",o=Math.round(d-13)/2,g=-6,f=Math.round(s+r+this.opts.edgeOffset),p=Math.round(a+h)):(v&&0>u||"_left"==i&&!m)&&(i="_left",o=Math.round(d-13)/2,g=Math.round(c),f=Math.round(s-(c+this.opts.edgeOffset+5)),p=Math.round(a+h));var b=a+l+this.opts.edgeOffset+d+8>parseInt(n(e).height()+n(e).scrollTop()),w=a+l-(this.opts.edgeOffset+d+8)<0;return b||"_bottom"==i&&b||"_top"==i&&!w?("_top"==i||"_bottom"==i?i="_top":i+="_top",o=d,p=Math.round(a-(d+5+this.opts.edgeOffset))):(w|("_top"==i&&w)||"_bottom"==i&&!b)&&("_top"==i||"_bottom"==i?i="_bottom":i+="_bottom",o=-6,p=Math.round(a+l+this.opts.edgeOffset)),"_right_top"==i||"_left_top"==i?p+=5:"_right_bottom"!=i&&"_left_bottom"!=i||(p-=5),"_left_top"!=i&&"_left_bottom"!=i||(f+=5),this.$tip_arrow.css({"margin-left":g+"px","margin-top":o+"px"}),this.$tip_holder.css({"margin-left":f+"px","margin-top":p+"px"}).attr("class","tip_holder hidden tip"+i),this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout(function(){t.$tip_holder.removeClass("hidden")},this.opts.delay),this.opts.enter&&this.opts.enter.call(this),this.opts.onShow&&this.opts.onShow.call(this),this}},o.prototype.hide=function(){return this._shown?(this._shown=this._over=!1,this._timeout&&clearTimeout(this._timeout),this.$tip_holder.addClass("hidden"),this.opts.exit&&this.opts.exit.call(this),this.opts.onHide&&this.opts.onHide.call(this),this):void 0},jQuery.fn.toolTip=jQuery.fn.tip=function(e){return this.each(function(){new o({$el:n(this),config:e})})}}(window,void 0,jQuery),Elise.alert=function(e,t){"string"==typeof e&&(e=$.extend({content:e},t));var n,i,o,a,s,r,l,c={},d="eAlert-"+ ++Elise._fn.alert.count,u="/eisi/images/Estandar/Mensajes/",h=!1,f=$.extend({_win:window.top,content:"",type:"alert",showButtons:!0,buttons:[{state:1,value:"Aceptar"}],autoClose:!1,timeOut:7e3},e),p=f._win,g=p.$("*:focus");switch(f.type){case"alert":r="alert.png",f.title=f.title?f.title:"Alerta",f.btype=f.btype?f.btype:"naranja";break;case"info":r="info.png",f.title=f.title?f.title:"Informaci&oacute;n",f.btype=f.btype?f.btype:"celeste";break;case"error":r="error.png",f.title=f.title?f.title:"Error",f.btype=f.btype?f.btype:"rojo";break;case"confirm":r="confirm.png",f.title=f.title?f.title:"Confirmaci&oacute;n",f.btype=f.btype?f.btype:"verde",f.buttons=e.buttons?f.buttons:[{state:1,value:"Aceptar",type:"verde"},{state:0,value:"Cancelar",type:""}]}n=$('<div id="'+d+'" class="eAlert-BackGround">'),o=$('<div class="eAlert-Container">'),o.html($('<div class="eAlert-Image"><img src="'+u+r+'">')),o.append($('<div class="eAlert-Content">').html($("<div>").html($("<div>").html(f.content)))),f.showButtons&&(a=$('<div class="eAlert-Buttons">'),$.each(f.buttons,function(e,t){l=t.click?t.click:t.onClick?t.onClick:null,s=$("<button>",{"class":"eAlert-button boton "+("string"==typeof t.type?t.type:f.btype),html:$(t.icon?'<span class="icon '+t.icon+'">':null).add($('<span class="label">').html(t.value)),click:l?l.bind(n):null}).data("eAlert-button-state",t.state),a.append(s)})),i=$("<div>",{"class":"eAlert",html:$('<div class="eAlert-Title">').html(f.title).add(o).add(f.showButtons?a:null)}),p.$("body").append(n.append(i));var m=function(){if(h){var e=i.outerWidth(),t=i.outerHeight();return i.css({"margin-left":-(e/2),"margin-top":-(t/2)}),c}},v=function(){if(!h){var e=i.outerWidth(),t=i.outerHeight();return i.css({"margin-left":-(e/2),"margin-top":-(t/2)-50}),n.css({opacity:0}).animate({opacity:1},200),i.animate({"margin-top":-(t/2)},200,function(){i.find("button").trigger("focus"),f.afterShow&&f.afterShow.call(c),f.onShow&&f.onShow.call(c)}),h=!0,f.beforeShow&&f.beforeShow.call(c),f.onBeforeShow&&f.onBeforeShow.call(c),c}},b=function(){if(h){var e=n.data("eAlert-button-state"),t=i.outerHeight();return i.animate({opacity:0,"margin-top":-(t/2)-50},200,function(){h=!1,n.remove(),$(p).off("resize",m),g.trigger("focus"),f.afterClose&&f.afterClose.call(c,e),f.onHide&&f.onHide.call(c,e)}),f.beforeClose&&f.beforeClose.call(c,e),f.onBeforeHide&&f.onBeforeHide.call(c,e),$(p).off("resize",m),c}};return $(p).on("resize",m),i.find(".eAlert-button").on("click",function(e){e.preventDefault();var t=$(this).data("eAlert-button-state");n.data("eAlert-button-state",t),f.success&&f.success.call(c,t),b()}),n.on("click",function(){!f.showButtons||f.autoClose?b():i.fadeOut(200).fadeIn(200)}),i.on("click",function(e){e.stopPropagation()}),f.autoClose&&(f.timeOut=f.timeOut?f.timeOut:f.content?70*f.content.length:500,setTimeout(b,f.timeOut)),c.$background=n,c.config=f,v(),c},jQuery.fn.msgBox=window.alert=function(){return Elise.alert.apply(Elise.alert,arguments),this},function(e,t){var n={cancel:{value:"Cancelar","class":"emodal_hide"},close:{value:"Cerrar","class":"emodal_hide"}},i=function(n){this._elise=Elise._fn.instance,this._shown=!1,this._reInstance=!1,this._reOutInstance=!1,this._reOutDeref=!1,this.id=null,this.emodal=null,this.url=!1,this.container=null,this.htmlBase="",this.config=t.extend({_win:e.top,container:null,url:null,onEscKeyClose:!0,show:!0,title:"",emodalWidth:600,emodalContentHeight:300,buttons:["cancel"],background:!0,delay:100,fadeIn:500,fadeOut:500,onCreate:null,onBeforeShow:null,onShow:null,onBeforeHide:null,onHide:null},n);var i;if(this.config.url)this.url=!0;else{if("string"==typeof this.config.container&&"#"===this.config.container.charAt(0)?this.config.container=this.config.container.substring(1):"string"!=typeof this.config.container&&(this.config.container=t(this.config.container).attr("id")),this.container=this.config._win.$("#"+this.config.container),this.config._win!==e&&this.container.length)return i=this.container.data("emodal"),i?(this._reOutInstance=!0,this.htmlBase=i.htmlBase,i._elise!==Elise._fn.instance&&(this._reOutDeref=!0),this):console.error('Hay colision de IDs en el window %o en el id "%s".',this.config._win,this.config.container);if(this.container=t("#"+this.config.container),!this.container.length)return console.error('El contenedor "%s" no se encuentra.',this.config.container);i=this.container.data("emodal"),i?(this._reInstance=!0,this.htmlBase=i.htmlBase):this.htmlBase=this.container.html().trim()}};i.prototype._build=function(){var e=this;this.id="emodal_"+Date.now();var n=t('<div id="'+this.id+'" class="emodal_hold" style="display:none">'),i=t('<div class="emodal">'),o=t('<div class="emodal_header">');o.html(t("<button>",{"class":"emodal_close emodal_hide",type:"button",html:"&times;"}).add('<h3 class="emodal_title">'));var a=t(this.url?'<iframe class="emodal_content emodal_content_url">':'<div class="emodal_content">');a.attr("id",this.config.container);var s='<div class="emodal_footer">';return n.html(i),i.append(o).append(a).append(s),this.config._win.$("body").append(n),this.emodal=this.$modal=this.config._win.$("#"+this.id),this.$=this.emodal.find.bind(this.$modal),this.container&&(this.container.remove(),this.container=null,this.container=this.emodal.find("#"+this.config.container),this.container.data("emodal",this)),this._configure(),t(this.config._win).on("resize",function(t){e._shown&&e.autoPosition(t)}),t(this.config._win.document).on("keydown",function(t){e._shown&&e.config.onEscKeyClose&&27===t.which&&e.hide()}),this.config.show&&this.show(),setTimeout(function(){e.config.onCreate&&e.config.onCreate.call(e)},1),this},i.prototype._configure=function(){var e=this;this.emodal.find(".emodal").css("width",this.config.emodalWidth),this.emodal.find(".emodal_content").css("height",this.config.emodalContentHeight),this.emodal.css("background",this.config.background?"":"none"),this.emodal.find(".emodal_header").find(".emodal_title").html(this.config.title),this.url?this.emodal.find(".emodal_content").attr("src",this.config.url):this.emodal.find(".emodal_content").html(this.htmlBase);var i=this.emodal.find(".emodal_footer");return i.addClass("hidden").empty(),this.config.buttons.length&&(t.each(this.config.buttons,function(o,a){if("string"==typeof a)switch(a.toLowerCase()){case"cancel":a=n.cancel;break;case"close":a=n.close}else a.id=a.id?a.id:a.btnId,a["class"]=a["class"]?a["class"]:a.btnClass,a.value=a.value?a.value:a.btnText,a.color=a.color?a.color:a.btnColor,a.position=a.position?a.position:a.btnPosition,a.onClick=a.onClick?a.onClick:a.btnClick;a.position="center"===a.position?"none":a.position,i.append(t("<button>",{id:a.id,"class":"boton "+(a["class"]?a["class"]:"")+" "+(a.color?a.color:""),html:a.icon?'<span class="icon '+a.icon+'"></span><span class="label">'+a.value+"</span>":a.value,css:{"float":a.position?a.position:"right"},click:a.onClick?a.onClick.bind(e):null}))}),i.removeClass("hidden")),this.emodal.find(".emodal_hide").on("click",function(t){e.hide.call(e,t)}),this},i.prototype.destroy=function(e){var t=this;return this.hide(function(){this.emodal.remove(),e&&"function"==typeof e&&e.call(t)}),this},i.prototype.update=function(e){return this.config=e,this._configure(),this},i.prototype.autoPosition=function(){var e=this.emodal.find(".emodal"),t=Elise.win.dims(),n=e.outerWidth()/2;n=n>t.width/2?-(t.width/2)+20:-n;var i=t.height/2-e.outerHeight()/2;return i=10>i?10:i,e.css({"margin-left":n,"margin-top":i}),this},i.prototype.show=function(e){var t=this;return this._shown||setTimeout(function(){t.config.onBeforeOpen&&t.config.onBeforeOpen.call(t),t.config.onBeforeShow&&t.config.onBeforeShow.call(t),t.emodal.css("opacity",0),t.emodal.css("display","block"),t.autoPosition(),t.emodal.animate({opacity:1},t.config.fadeIn,function(){t._shown=!0,t.emodal.trigger("focus"),t.config.onOpen&&t.config.onOpen.call(t),t.config.onShow&&t.config.onShow.call(t),e&&"function"==typeof e&&e.call(t)})},this.config.delay),this},i.prototype.hide=function(e){var t=this;return this._shown&&setTimeout(function(){t.config.onBeforeClose&&t.config.onBeforeClose.call(t),t.config.onBeforeHide&&t.config.onBeforeHide.call(t),t.emodal.animate({opacity:0},t.config.fadeOut,function(){t.emodal.css("display","none"),t._shown=!1,t.config.onClose&&t.config.onClose.call(t),t.config.onHide&&t.config.onHide.call(t),e&&"function"==typeof e&&e.call(t)})},this.config.delay),this},i.prototype.isShown=function(){return this._shown},Elise.modal=e.eModal=function(e){var t,n=new i(e);if(!n.url){if(t=n.container.data("emodal"),n._reInstance)return t.update(n.config),t.config.show?t.show():t;if(n._reOutInstance){if(!n._reOutDeref)return t.update(n.config),t.config.show?t.show():t;t.emodal.remove();var n=new i(e)}}return n._build()}}(window,jQuery),function(){Elise.loader=function(e){var t,n,i={};return i.config=$.extend({selector:null,type:"spin",text:"Cargando, por favor espere...",textPosition:"bottom",determinate:!1,percentage:0,show:!0,width:"100%",fadeTime:250,updateTime:200,size:"normal",border:!0},e),i.config.type="spinner"===i.config.type?"spin":i.config.type,i.loader=$('<div class="eloader" style="display:none">').css("width",i.config.width),t=$("<div>"),i.loader.append(t),i.$loader=i.loader,"spin"===i.config.type?(t.addClass("spin"),i.config.determinate?t.append(["<svg>",'<circle class="progress" transform="translate(30,30) rotate(-90)" r="25" cy="0" cx="0">',"</circle>",'<circle transform="translate(30,30)" r="25" cy="0" cx="0">',"</circle>","</svg>",'<div class="progress-count">0%</div>'].join("")):(t.addClass("undeterminate").html('<div class="spin-ball1"></div><div class="spin-ball2"></div>'),"mini"===i.config.size&&t.addClass("spin-mini"))):(t.addClass("bar"),i.config.border||t.css("border-width",0),i.config.determinate?t.append($('<div class="progress" style="width: 0%">').html("0%")):t.addClass("undeterminate").append(['<div class="bar-ball bar-ball1"></div>','<div class="bar-ball bar-ball2"></div>','<div class="bar-ball bar-ball3"></div>','<div class="bar-ball bar-ball4"></div>'].join(""))),i.config.text&&(n=$('<div class="state">').html(i.config.text),"bottom"===i.config.textPosition?i.loader.append(n):i.loader.prepend(n)),i.update=function(e){var n,o,a;return e&&(e.text&&i.config.text&&(n=i.loader.find(".state"),o=n.outerWidth(),n.animate({"margin-left":"-"+o+"px",opacity:0},i.config.updateTime/2,function(){n.css({width:o,"margin-left":o}).html(e.text).stop().animate({"margin-left":0,opacity:1},i.config.updateTime/2,function(){n.removeAttr("style")})})),e.percentage&&i.config.determinate&&("spin"===i.config.type?(a=157*(e.percentage/100),t.find(".progress").animate({"stroke-dashoffset":157-a},i.config.updateTime),i.loader.find(".progress-count").html(e.percentage+"%")):i.loader.find(".progress").animate({width:e.percentage+"%"},i.config.updateTime).html(e.percentage+"%")),e.width?i.loader.animate({width:e.width},i.config.updateTime):void 0),i},i.destroy=function(e,t){return i.hide(e?e:i.config.fadeTime,function(){i.loader.remove(),t&&t.call(i)}),i},i.show=function(e,t){return i.loader.show(e?e:i.config.fadeTime,t),i},i.hide=function(e,t){return i.update({percentage:100}).loader.hide(e?e:i.config.fadeTime,t),i},i.remove=function(){i.destroy(0)},$(i.config.selector).append(i.loader),i.config.show&&i.loader.fadeIn(i.config.fadeTime),i.update({percentage:i.config.percentage}),i},jQuery.fn.loader=function(e){return e=$.extend({selector:this.first()},e),Elise.loader(e)}}(),function(){var e=function(e){this._elise=Elise._fn.instance,this._shown=!1,this.config=e};e.prototype.update=function(e){return this.loader.update(e),this.hope.trigger("focus"),this},e.prototype.position=function(e){if(!this._shown)return this;var t=this.hope.find(".ehope"),n=t.outerWidth(),i=t.outerHeight();return t.css({left:"50%",top:0,"margin-left":"-"+n/2+"px","margin-top":"-"+i/2+"px"}),e||"slide"!==this.config.animation?t.css("top","50%"):t.stop().animate({top:"50%"},this.config.animationIn),this},e.prototype.destroy=function(e){if(!this._shown)return this;var t=this;return this.update({percentage:100}),this.hope.fadeOut(this.config.animationOut,function(){t._shown=!1,t.config.onClose&&t.config.onClose.call(t),t.config.onHide&&t.config.onHide.call(t),e&&e.call(t)}),"slide"===this.config.animation&&this.hope.animate({top:0},this.config.animationOut),this},Elise.hope=function(t){var n,i;t&&t.animation&&(t.animation=t.animation.toLowerCase(),t.animation="slidedown"===t.animation?"slide":"fadein"===t.animation?"fade":t.animation);var o=$.extend({_win:window.top,reset:!1,width:300,background:"rgba(255,255,255,0.75)",animation:"slide",animationIn:250,animationOut:250,loader:{fadeTime:0}},t),a=o._win;if(a.Elise._fn.hope){if(a!==window&&a.Elise._fn.hope._elise!==Elise._fn.instance)a.Elise._fn.hope.$hope.remove(),a.Elise._fn.hope.$hope=null;else if(a.Elise._fn.hope._shown&&!o.reset)return a.Elise._fn.hope.update(t);n=a.Elise._fn.hope,n.config=o}else n=a.Elise._fn.hope=new e(o),$(a).on("resize",function(){n.position("fade")});return n.$hope?(i=n.$hope,hope_content=i.find(".ehope").html("")):(i=$('<div id="ehope" class="ehope-hold" style="display: none;">'),hope_content=$('<div class="ehope">'),n.$hope=n.hope=i,n.$=i.find.bind(i),a.$("body").append(i.html(hope_content))),n.config.loader.selector=hope_content,n.loader=Elise.loader(n.config.loader),i.css("background-color",n.config.background),hope_content.css("width",n.config.width),i.stop().fadeIn(n.config.animationIn),n._shown=!0,"slide"===n.config.animation?n.position():n.position("fade"),n.config.onOpen&&n.config.onOpen.call(n),n.config.onShow&&n.config.onShow.call(n),n}}(),function(){Elise.notify=window.top.Elise&&window.top.Elise.notify||function(){function e(e,t,n){return p({type:C.normal,iconClass:g().iconClasses.normal,message:e,optionsOverride:n,title:t})}function t(e,t,n){return p({type:C.error,iconClass:g().iconClasses.error,message:e,optionsOverride:n,title:t})}function n(e,t){return e||(e=g()),v=$("#"+e.containerId),v.length?v:(t&&(v=u(e)),v)}function i(e,t,n){return p({type:C.info,iconClass:g().iconClasses.info,message:e,optionsOverride:n,title:t})}function o(e){b=e}function a(e,t,n){return p({type:C.success,iconClass:g().iconClasses.success,message:e,optionsOverride:n,title:t})}function s(e,t,n){return p({type:C.warning,iconClass:g().iconClasses.warning,message:e,optionsOverride:n,title:t})}function r(e,t){var i=g();v||n(i),d(e,i,t)||c(i)}function l(e){var t=g();return v||n(t),e&&0===$(":focus",e).length?void m(e):void(v.children().length&&v.remove())}function c(e){for(var t=v.children(),n=t.length-1;n>=0;n--)d($(t[n]),e)}function d(e,t,n){var i=n&&n.force?n.force:!1;return e&&(i||0===$(":focus",e).length)?(e[t.hideMethod]({duration:t.hideDuration,easing:t.hideEasing,complete:function(){m(e)}}),!0):!1}function u(e){return v=$("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo($(e.target)),v}function h(){return{tapToDismiss:!0,toastClass:"enotify",containerId:"enotify-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",iconClasses:{normal:"enotify-normal",error:"enotify-error",info:"enotify-info",success:"enotify-success",warning:"enotify-warning"},iconClass:"enotify-info",positionClass:"enotify-bottom-right",timeOut:7e3,extendedTimeOut:1e3,titleClass:"enotify-title",messageClass:"enotify-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(e){b&&b(e)}function p(e){function t(){a(),r(),l(),c(),d(),s()}function i(){k.hover(b,p),!_.onclick&&_.tapToDismiss&&k.click(h),_.closeButton&&O&&O.click(function(e){e.stopPropagation?e.stopPropagation():void 0!==e.cancelBubble&&e.cancelBubble!==!0&&(e.cancelBubble=!0),h(!0)}),(_.onclick||_.onClick)&&k.click(function(){_.onclick&&_.onclick(),_.onClick&&_.onClick(),h()})}function o(){k.hide(),k[_.showMethod]({duration:_.showDuration,easing:_.showEasing,complete:_.onShown||_.onShow}),_.timeOut>0&&(P=setTimeout(h,_.timeOut),S.maxHideTime=parseFloat(_.timeOut),S.hideEta=(new Date).getTime()+S.maxHideTime,_.progressBar&&(S.intervalId=setInterval(C,10)))}function a(){e.iconClass&&k.addClass(_.toastClass).addClass(x)}function s(){_.newestOnTop?v.prepend(k):v.append(k);
}function r(){e.title&&(E.append(e.title).addClass(_.titleClass),k.append(E))}function l(){e.message&&(T.append(e.message).addClass(_.messageClass),k.append(T))}function c(){_.closeButton&&(O.addClass("toast-close-button").attr("role","button"),k.prepend(O))}function d(){_.progressBar&&(I.addClass("toast-progress"),k.prepend(I))}function u(e,t){if(e.preventDuplicates){if(t.message===w)return!0;w=t.message}return!1}function h(e){return!$(":focus",k).length||e?(clearTimeout(S.intervalId),k[_.hideMethod]({duration:_.hideDuration,easing:_.hideEasing,complete:function(){m(k),"hidden"!==H.state&&(_.onHidden&&_.onHidden(),_.onHide&&_.onHide()),H.state="hidden",H.endTime=new Date,f(H)}})):void 0}function p(){(_.timeOut>0||_.extendedTimeOut>0)&&(P=setTimeout(h,_.extendedTimeOut),S.maxHideTime=parseFloat(_.extendedTimeOut),S.hideEta=(new Date).getTime()+S.maxHideTime)}function b(){clearTimeout(P),S.hideEta=0,k.stop(!0,!0)[_.showMethod]({duration:_.showDuration,easing:_.showEasing})}function C(){var e=(S.hideEta-(new Date).getTime())/S.maxHideTime*100;I.width(e+"%")}var _=g(),x=e.iconClass||_.iconClass;if("undefined"!=typeof e.optionsOverride&&(_=$.extend(_,e.optionsOverride),x=e.optionsOverride.iconClass||x),!u(_,e)){y++,v=n(_,!0);var P=null,k=$("<div/>"),E=$("<div/>"),T=$("<div/>"),I=$("<div/>"),O=$(_.closeHtml),S={intervalId:null,hideEta:null,maxHideTime:null},H={toastId:y,state:"visible",startTime:new Date,options:_,map:e};return t(),o(),i(),f(H),_.debug&&console&&console.log(H),k}}function g(){return $.extend({},h(),_.options)}function m(e){v||(v=n()),e.is(":visible")||(e.remove(),e=null,0===v.children().length&&(v.remove(),w=void 0))}var v,b,w,y=0,C={normal:"normal",error:"error",info:"info",success:"success",warning:"warning"},_={VERSION:"2.1.1",clear:r,remove:l,subscribe:o,options:{},getContainer:n,normal:e,error:t,info:i,warning:s,success:a};return _}()}(),function(){jQuery.fn.extend({magicTable:function(e){var t=$.extend({ignoreRows:[],rowsPerPage:10,currPage:1,optionsForRows:[5,10,25,50,100,150,200,250,300,400],tablesorter:void 0,headers:{},onCreate:null,onChangePage:null,onChangeRowsPerPage:null,onNextPage:null,onPrevPage:null,onFirstPage:null,onLastPage:null,onSort:null},e),n=this.first(),o=null,a={defaults:t,table:n},s=0,r="#magicTable-totalPages",l="#magicTable-currPage",c="#magicTable-rowsPerPage",d="#magicTable-firstPage",u="#magicTable-prevPage",h="#magicTable-nextPage",f="#magicTable-lastPage",p="#magicTable-searchBox";return a.makeRowsArrary=function(){var e=$("tbody tr"+(a.searching?".selected":""),n);a.possibleTableRows=$.makeArray(e),a.tableRows=$.grep(a.possibleTableRows,function(e){return-1===$.inArray(e,a.defaults.ignoreRows)},!1),a.numRows=a.tableRows.length,s=a.resetTotalPages(),a.currPageNumber=a.defaults.currPage>s?1:a.currPageNumber?a.currPageNumber:a.defaults.currPage,-1===$.inArray(a.defaults.rowsPerPage,a.defaults.optionsForRows)&&a.defaults.optionsForRows.push(a.defaults.rowsPerPage)},a.hideOtherPages=function(e){if(!(0===e||e>s)){var t=(e-1)*a.defaults.rowsPerPage,n=t+a.defaults.rowsPerPage-1;if($(a.tableRows).show(),a.searching){$(a.content).find("tbody tr:not(.selected)").hide();for(var i=0;i<$(a.content).find("tr.selected").length;i++)(t>i||i>n)&&$(a.content).find("tr.selected").eq(i).hide()}else for(var i=0;i<a.tableRows.length;i++)(t>i||i>n)&&$(a.tableRows[i]).hide()}},a.resetTotalPages=function(){var e=Math.round(a.numRows/a.defaults.rowsPerPage),t=e*a.defaults.rowsPerPage<a.numRows?e+1:e;return $(a.content).find(r).length>0&&$(a.content).find(r).html(t),t},a.resetCurrentPage=function(e){1>e||e>s||(a.currPageNumber=e,a.hideOtherPages(a.currPageNumber),$(a.content).find(l).val(a.currPageNumber))},a.resetPerPageValues=function(){var e=!1,t=a.defaults.optionsForRows;t.sort(function(e,t){return e-t});var n=$(a.content).find(c)[0];n.options=[],n.length=0;for(var i=0;i<t.length;i++)t[i]<=a.tableRows.length&&(t[i]===a.defaults.rowsPerPage?(n.options[i]=new Option(t[i],t[i],!0,!0),e=!0):n.options[i]=new Option(t[i],t[i]));n.options[n.length]=new Option("Todos",a.tableRows.length),e||a.defaults.optionsForRows===t[0]},a.createPaginationElements=function(){a.content=a.$container=o=$("<div/>",{"class":"box magicTable"}),a.mtHeader=$("<div/>",{"class":"row-fluid magicTable-header"}),a.mtHeader.append($("<div/>",{"class":"span6"}),$("<div/>",{"class":"span6"}));var e=$("<select/>",{"class":"pull-none",id:"magicTable-rowsPerPage"}).append($("<option/>",{value:"5",text:"5"}));a.mtHeader.find(".span6:first").append(e);var t=$("<div/>",{"class":"pull-right comboCaja"}).append($("<input/>",{type:"search","class":"left",id:"magicTable-searchBox",placeholder:"Buscador..."}),$("<button/>",{type:"button","class":"boton right",text:"Buscar",id:"magicTable-searchBtn"}));a.mtHeader.find(".span6:last").append(t),a.mtFooter=$("<div/>",{"class":"row-fluid magicTable-footer"}),a.mtFooter.append($("<div/>",{"class":"span6"}),$("<div/>",{"class":"span6"}));var n=["<div id='magicTable-paginater' class='combo1 pull-right'>","<button id='magicTable-firstPage' class='boton boton-mini left' title='Primera p&aacute;gina'>","<span class='icon icon_m13'></span>","</button>","<button id='magicTable-prevPage' class='boton boton-mini centro' title='P&aacute;gina anterior'>","<span class='icon icon_n13'></span>","</button>","<button class='boton boton-mini centro magicTable-pageInfo'>P&aacute;gina</button>","<input id='magicTable-currPage' class='centro magicTable-currPage' value='"+a.currPageNumber+"' type='text' title='Pagina actual' size='1'>","<button class='boton boton-mini centro magicTable-pageInfo'>de <span id='magicTable-totalPages'>"+s+"</span></button>","<button id='magicTable-nextPage' class='boton boton-mini centro' title='P&aacute;gina siguiente'>","<span class='icon icon_k13'></span>","</button>","<button id='magicTable-lastPage' class='boton boton-mini right' title='&Uacute;ltima p&aacute;gina'>","<span class='icon icon_l13'></span>","</button>","</div>"];a.mtFooter.find(".span6:last").append(n.join("").toString()),a.mtFooter.find(".span6:first").append(""),$(a.table).before(a.content),a.content.append(a.mtHeader,$(a.table).addClass("tablesorter"),a.mtFooter)},a.createElements=function(){a.createPaginationElements(),$(a.table).find(l).val(a.currPageNumber)},a.indexedSearch=function(){$(a.table).find("tbody td").addClass("indexed");var e=_.keys(a.defaults.headers);for(i=0;i<e.length;i++)$(a.table).find("tbody tr").find("td:eq("+e[i]+")").removeClass("indexed")},a.search=function(e){a.content.find("tbody tr").removeClass("selected"),a.content.find("tbody td.indexed").unhighlight(),/\w/gi.test(e)?(a.content.find("tbody td.indexed").highlight(e,{caseSensitive:!1}),a.content.find("tbody tr").find("td.indexed:contains('"+e+"')").each(function(e,t){$(t).parent().addClass("selected")}),a.searching=!0):a.searching=!1,a.currPageNumber=1,a.update(),a.hideOtherPages(a.currPageNumber)},a.update=function(){return $(a.table).trigger("update"),a.makeRowsArrary(),a.resetPerPageValues(),a.resetCurrentPage(a.currPageNumber),a},n.css("width","100%"),a.makeRowsArrary(),$(a.table).tablesorter($.extend({headers:t.headers},t.tablesorter)),a.createElements(),a.resetPerPageValues(),a.hideOtherPages(a.currPageNumber),a.indexedSearch(),$(a.table).on("sortEnd",function(){a.update(),t.onSort&&t.onSort.call(a)}),$(a.content).find(d).on("click",function(){a.resetCurrentPage(1),t.onFirstPage&&t.onFirstPage.call(a),t.onChangePage&&t.onChangePage.call(a)}),$(a.content).find(u).on("click",function(){a.resetCurrentPage(a.currPageNumber-1),t.onPrevPage&&t.onPrevPage.call(a),t.onChangePage&&t.onChangePage.call(a)}),$(a.content).find(h).on("click",function(){a.resetCurrentPage(parseInt(a.currPageNumber)+1),t.onNextPage&&t.onNextPage.call(a),t.onChangePage&&t.onChangePage.call(a)}),$(a.content).find(f).on("click",function(){a.resetCurrentPage(s),t.onLastPage&&t.onLastPage.call(a),t.onChangePage&&t.onChangePage.call(a)}),$(a.content).find(l).on("change",function(){a.resetCurrentPage(this.value),t.onChangePage&&t.onChangePage.call(a)}),$(a.content).find(c).on("change",function(){a.defaults.rowsPerPage=parseInt(this.value,10),s=a.resetTotalPages(),a.resetCurrentPage(1),t.onChageRowsPerPage&&t.onChageRowsPerPage.call(a),t.onChangeRowsPerPage&&t.onChangeRowsPerPage.call(a),t.onChangePage&&t.onChangePage.call(a)}),$(a.table).find("tr").on("afterRemove",a.update.bind(a)),$(a.content).find(p).on("keyup blur click search",function(){a.search($(this).val())}),n.on("mtUpdate",a.update),t.onCreate&&t.onCreate.call(a),n.data("magicTable",a),a}})}(),function(){var e={image:function(e){var t=this.data("eChooseImage");if(t){if(!e){if(""!==e)return t.image;e=""}return this.css("background-image",e?"url("+e+")":""),t.image=e,t.config.onChange&&t.config.onChange.call(this,e),e?this.find("button").removeClass("azul").html(t.config.textChange):this.find("button").addClass("azul").html(t.config.textChoose),this}},readonly:function(e){var t=this.data("eChooseImage");if(t)return void 0===e?t.readonly:(t.readonly=e,e?(this.addClass("readonly"),this.find("button").addClass("disabled"),this.off("click")):(this.removeClass("readonly"),this.find("button").removeClass("disabled"),this.on("click",t.onClick.bind(t))),this)}};Elise.chooseImage=function(e,t){return"object"==typeof this&&this.jquery&&this.length?$(this).eChooseImage(arguments):"object"==typeof e&&e.$el?$(e.$el).eChooseImage(arguments):"string"!=typeof e?console.error("No se ha definido el parametro $el ni se ha modificado el contexto con el elemento jQuery."):"choose"!==e?console.error("Metodo desconocido."):void $("#"+t.id).eChooseImage("image",t.image)},jQuery.fn.eChooseImage=function(t,n){var i=$(this).first();if("function"==typeof e[t])return e[t].call(i,n);if("object"!=typeof t)return console.error('No se reconoce el metodo "%s".',t);var o={image:!1,imageSize:"cover",readonly:!1,width:300,height:200,explorer:"/eisi/Estandar/FileManager/Explorer.jsp",explorerParams:{},textChange:"Cambiar",textChoose:"Seleccionar",onChange:null};_.extend(o,t),o.width=parseInt(o.width),o.height=parseInt(o.height),o.image?(i.css("background-image","url("+o.image+")"),i.addClass("shown-image")):i.data("image")&&(o.image=i.data("image"),i.css("background-image","url("+o.image+")"),i.addClass("shown-image"));var a={onClick:function(){!this.popup||this.popup.closed?this.popup=Elise.popup({url:r,width:850,height:600}):this.popup.focus()},id:null,image:o.image,readonly:o.readonly,config:o,popup:null};i.attr("id")?a.id=i.attr("id"):(a.id="eChooseImage-"+Date.now(),i.attr("id",a.id));var s,r;"string"==typeof o.explorerParams?(s=o.explorerParams,"?"!==s.charAt(0)&&(s="?"+s)):(s="?",_.each(o.explorerParams,function(e,t){s+=t+"="+e+"&"})),r=o.explorer+s+"&control=eChooseImage&type=images&eChooseImage="+a.id,i.addClass("eChooseImage").css({width:o.width,height:o.height}),!o.image||"cover"!==o.imageSize&&"contain"!==o.imageSize||i.css("background-size",o.imageSize);var l=$('<button class="boton">');return l.html(o.image?o.textChange:o.textChoose),i.append(l),o.readonly?(i.addClass("readonly"),l.addClass("disabled")):i.on("click",a.onClick.bind(a)),i.data("eChooseImage",a),this}}(),function(){var e={value:function(){var e=this.data("eCounter");if(e)return e.value},offValue:function(){var e=this.data("eCounter");if(e)return e.offValue}};jQuery.fn.eCounter=function(t,n){var i=$(this).first();if("function"==typeof e[t])return e[t].call(i,n);if("object"!=typeof t)return console.error('No se reconoce el metodo "%s".',t);var o={maximum:200,onStart:null,onChange:null};_.extend(o,t),void 0===o.maximum&&(o.maximum=o.maximo),o.maximum=parseInt(o.maximum);var a={id:null,value:$(i).val().length,offValue:o.maximum-$(i).val().length,config:o};return i.attr("id")?a.id=i.attr("id"):(a.id="eCounter-"+ ++Elise._fn.counter.count,i.attr("id",a.id)),i.on("keyup blur",function(){var e=$(this).val().length;e>o.maximum?(i.val($(this).val().substring(0,o.maximum)),a.value=e-1,a.offValue=0):(a.value=e,a.offValue=o.maximum-e),o.onChange&&o.onChange.call(a,a)}),o.onStart&&o.onStart.call(a,a),i.data("eCounter",a),this}}(),function(){"undefined"!=typeof CKEDITOR&&(CKEDITOR.editorConfig=function(e){e.basePath="/eisi/ckeditor/",e.language="es",e.uiColor="#EEEEEE",e.width="100%",e.height="400px",e.startupFocus=!1,e.startupShowBorders=!1,e.filebrowserWindowWidth=850,e.filebrowserWindowHeight=600,e.oembed_maxWidth="560",e.oembed_maxHeight="315"})}(),jQuery.fn.ckeditor=function(e,t){if("undefined"==typeof CKEDITOR)return console.error("No se encontro el script del ckeditor.");var n,i,o,a,s=$(this).attr("id");return"val"===e||"contenido"===e?"string"!=typeof t?CKEDITOR.instances[s].getData():(CKEDITOR.instances[s].setData(t),this):"text"===e?(i=CKEDITOR.instances[s].getData(),n=document.createElement("div"),n.innerHTML=i,n.textContent):"isEmpty"===e?(i=CKEDITOR.instances[s].getData(),n=document.createElement("div"),n.innerHTML=i,a="",a=Elise._ISO88591?utf8_decode(a):a,o=new RegExp("[a-zA-Z0-9"+a+"]{2,}"),!o.test(n.textContent.toLowerCase())):"focus"===e?(CKEDITOR.instances[s].fire("beforeFocus"),this):($(this).each(function(){var n={onLoad:function(){},onResize:function(){}};t=t&&"object"==typeof t?t:{},"vacio"===e?$.extend(n,{toolbar:"vacio",toolbar_vacio:[],removePlugins:"resize,elementspath"},t):"full"===e?$.extend(n,{toolbar:"Full",toolbar_Full:[{name:"document",items:["Source","-","NewPage","DocProps","Preview","Print","-","Templates"]},{name:"clipboard",items:["Cut","Copy","Paste","PasteText","PasteFromWord","-","Undo","Redo"]},{name:"editing",items:["Find","Replace","-","SelectAll","-","SpellChecker","Scayt"]},{name:"links",items:["Image","Flash","oembed","Link","Unlink"]},"/",{name:"basicstyles",items:["Bold","Italic","Underline","Strike","Subscript","Superscript","-","RemoveFormat"]},{name:"paragraph",items:["NumberedList","BulletedList","-","Outdent","Indent","-","Blockquote","-","JustifyLeft","JustifyCenter","JustifyRight","JustifyBlock","-","BidiLtr","BidiRtl"]},{name:"insert",items:["Table","HorizontalRule","Smiley","SpecialChar","PageBreak","Anchor","Iframe"]},"/",{name:"styles",items:["Format","Font","FontSize"]},{name:"colors",items:["TextColor","BGColor"]},{name:"tools",items:["Maximize","ShowBlocks"]}],extraPlugins:"link,tableresize,tabletools,table,flash,pastefromword,liststyle,oembed",removePlugins:"resize,elementspath",autoGrow_bottomSpace:50,extraAllowedContent:"*(*)[style]; style; link[rel,href,media]"},t):"imagen"===e?$.extend(n,{toolbar:"Img",toolbar_Img:[{name:"links",items:["Image"]}],extraPlugins:"link,tableresize,tabletools,table,flash,pastefromword,liststyle,oembed",removePlugins:"resize,elementspath"},t):$.extend(n,{toolbar:"Basic",toolbar_Basic:[["Bold","Italic","-","NumberedList","BulletedList","-","Link","Unlink","Smiley","PasteText"]],extraPlugins:"link,tableresize,tabletools,table,flash,pastefromword,liststyle",removePlugins:"resize,elementspath"},t);var i={browseFilesParams:"",browseImagesParams:"",browseFlashesParams:""};_.each(i,function(e,t){"string"==typeof n[t]?(i[t]=n[t],"?"!==i[t].charAt(0)&&(i[t]="?"+i[t])):(i[t]="?",_.each(n[t],function(e,n){i[t]+=n+"="+e+"&"})),i[t]+="&control=ckeditor"}),n.filebrowserBrowseUrl="/eisi/Estandar/FileManager/Explorer.jsp"+i.browseFilesParams+"&type=files",n.filebrowserImageBrowseUrl="/eisi/Estandar/FileManager/Explorer.jsp"+i.browseImagesParams+"&type=images",n.filebrowserFlashBrowseUrl="/eisi/Estandar/FileManager/Explorer.jsp"+i.browseFlashesParams+"&type=flashes",n.autoGrow_minHeight=n.minHeight?n.minHeight:n.height,n.autoGrow_maxHeight=n.maxHeight?n.maxHeight:n.height;var o=CKEDITOR.replace($(this)[0],n);n.focus&&o.on("instanceReady",function(){o.fire("beforeFocus")}),o.on("loaded",n.onLoad),o.on("resize",n.onResize)}),this)};
